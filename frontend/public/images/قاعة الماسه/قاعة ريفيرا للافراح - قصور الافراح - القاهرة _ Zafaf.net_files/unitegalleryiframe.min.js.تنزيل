function UG_API(a){function b(a){var b={index:a.index,title:a.title,description:a.description,urlImage:a.urlImage,urlThumb:a.urlThumb},c=a.objThumbImage.data();for(var d in c){switch(d){case"image":case"description":continue}b[d]=c[d]}return b}var c,d=this,e=(jQuery(d),new UniteGalleryMain);e=a,c=jQuery(a),this.on=function(a,d){switch(a){case"item_change":c.on(e.events.ITEM_CHANGE,function(){var a=e.getSelectedItem(),c=b(a);d(c.index,c)});break;case"resize":c.on(e.events.SIZE_CHANGE,d);break;case"enter_fullscreen":c.on(e.events.ENTER_FULLSCREEN,d);break;case"exit_fullscreen":c.on(e.events.EXIT_FULLSCREEN,d);break;case"play":c.on(e.events.START_PLAY,d);break;case"stop":c.on(e.events.STOP_PLAY,d);break;case"pause":c.on(e.events.PAUSE_PLAYING,d);break;case"continue":c.on(e.events.CONTINUE_PLAYING,d);break;default:console&&console.log("wrong api event: "+a)}},this.play=function(){e.startPlayMode()},this.stop=function(){e.stopPlayMode()},this.togglePlay=function(){e.togglePlayMode()},this.enterFullscreen=function(){e.toFullScreen()},this.exitFullscreen=function(){e.exitFullScreen()},this.toggleFullscreen=function(){e.toggleFullscreen()},this.resetZoom=function(){var a=e.getObjSlider();return a?void a.zoomBack():!1},this.zoomIn=function(){var a=e.getObjSlider();return a?void a.zoomIn():!1},this.zoomOut=function(){var a=e.getObjSlider();return a?void a.zoomOut():!1},this.nextItem=function(){e.nextItem()},this.prevItem=function(){e.prevItem()},this.selectItem=function(a){e.selectItem(a)},this.resize=function(a,b){b?e.resize(a,b):e.resize(a)},this.getItem=function(a){var c=e.getItem(a),d=b(c);return d},this.getNumItems=function(){var a=e.getNumItems();return a},this.reloadGallery=function(a){if(!a)var a={};e.run(null,a)}}function UGAviaControl(){function a(a){return 0==p?a.pageX:a.pageY}function b(){jQuery("body").on("touchstart",function(){return 0==q.isControlEnabled?!0:void(q.touchEnabled=!0)}),jQuery("body").mousemove(function(b){if(0==q.isControlEnabled)return!0;if(1==q.touchEnabled)return jQuery("body").off("mousemove"),!0;q.isMouseInsideStrip=m.ismouseover();var c=j.isTouchMotionActive();if(1==q.isMouseInsideStrip&&0==c){var d=a(b);i(d)}else g()})}function c(a){var b=m.height(),c=n.height();if(b>c)return!1;var d=m.offset(),e=d.top,f=a-e,g=o.thumb_height,h=b-o.thumb_height,i=h-g;g>f&&(f=g),f>h&&(f=h);var j=(f-g)/i,k=(c-b)*j;return k=Math.round(k),k=-1*k}function d(a){var b=m.width(),c=n.width();if(b>c)return!1;var d=m.offset(),e=d.left,f=a-e,g=o.thumb_width,h=b-o.thumb_width,i=h-g;g>f&&(f=g),f>h&&(f=h);var j=(f-g)/i,k=(c-b)*j;return k=Math.round(k),k=-1*k}function e(){if(0==q.is_strip_moving)return!1;var a=j.getInnerStripPos();Math.floor(a)==Math.floor(q.strip_finalPos)&&g();var b,c=Math.abs(Math.abs(q.strip_finalPos)-Math.abs(a));1>c?b=c:(b=c/4,b>0&&1>b&&(b=1)),q.strip_finalPos<a&&(b=-1*b);var d=a+b;j.positionInnerStrip(d)}function f(){return 1==q.isStripMoving?!1:(q.isStripMoving=!0,void(q.handle_timeout=setInterval(e,10)))}function g(){return 0==q.isStripMoving?!1:(q.isStripMoving=!1,void(q.handle_timeout=clearInterval(q.handle_timeout)))}function h(a){return 0==p?d(a):c(a)}function i(a){var b=h(a);q.is_strip_moving=!0,q.strip_finalPos=b,f()}var j,k,l,m,n,o,p,q={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){q.isControlEnabled=!0},this.disable=function(){q.isControlEnabled=!1},this.init=function(a){j=a,l=a.getObjects(),k=l.g_gallery,m=l.g_objStrip,n=l.g_objStripInner,o=l.g_options,p=l.isVertical,b()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGCarousel(){function a(a,b){g_objects=a.getObjects(),U=a,N=jQuery(a),O=g_objects.g_objWrapper,P=g_objects.g_arrItems,Y=jQuery.extend(Y,b),W.setFixedMode(),W.setApproveClickFunction(M),W.init(a,Y),X=W.getObjThumbs(),Y=W.getOptions(),Z.initTileWidth=Y.tile_width,Z.initTileHeight=Y.tile_height,Z.tileWidth=Y.tile_width}function b(a){if(!a)var a=O;var b="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";O.append(b),Q=O.children(".ug-carousel-wrapper"),R=Q.children(".ug-carousel-inner"),W.setHtml(R),X.getThumbs().fadeTo(0,1)}function c(a,b){if(!b)var b=Z.initTileHeight/Z.initTileWidth*a;Z.tileWidth=a;var c={tile_width:a,tile_height:b};W.setOptions(c),Y.tile_width=a,Y.tile_height=b,W.resizeAllTiles(a),r(!0)}function d(){if(null===Z.carouselMaxWidth)throw new Error("The carousel width not set");if(Z.tileWidth<Z.initTileWidth){var a=Z.carouselMaxWidth-2*Y.carousel_padding;a>Z.initTileWidth&&(a=Z.initTileWidth),c(a);var b=V.getNumItemsInSpace(Z.carouselMaxWidth,a,Y.carousel_space_between_tiles)}else{var b=V.getNumItemsInSpace(Z.carouselMaxWidth,Z.tileWidth,Y.carousel_space_between_tiles);if(0>=b){b=1;var a=Z.carouselMaxWidth-2*Y.carousel_padding;c(a)}}var d=V.getSpaceByNumItems(b,Z.tileWidth,Y.carousel_space_between_tiles);d+=2*Y.carousel_padding,Q.width(d),1==Z.isFirstTimeRun?(L(),W.run(),jQuery.each(P,function(a,b){b.objThumbWrapper.data("index",a),O.trigger(Z.eventSizeChange,[b.objThumbWrapper,!0]),b.objTileOriginal=b.objThumbWrapper.clone(!0,!0)}),r(!0),1==Y.carousel_autoplay&&B()):(1==Y.carousel_autoplay&&D(),w(0,!1),1==Y.carousel_autoplay&&B()),A(),Z.isFirstTimeRun=!1}function e(){return V.getElementSize(R).left}function f(a){return V.getMousePosition(a).pageX}function g(){var a=R.children(".ug-thumb-wrapper");return a}function h(a){var b=V.getNumItemsInSpace(a,Z.tileWidth,Y.carousel_space_between_tiles);return b}function i(){return g().length}function j(a){s(a);var b=g(),c=jQuery(b[a]);return c}function k(){return R.children(".ug-thumb-wrapper").first()}function l(){return R.children(".ug-thumb-wrapper").last()}function m(a,b,c){var d=a.data("index");if(void 0==d)throw new Error("every tile should have index!");for(var e=[],f=0;b>f;f++){if("prev"==c)var g=U.getPrevItem(d,!0);else var g=U.getNextItem(d,!0);if(!g)throw new Error("the item to add is empty");var h=g.objTileOriginal.clone(!0,!0);d=g.index,h.addClass("cloned"),e.push(h)}return e}function n(){var a=V.getElementSize(Q),b=V.getElementSize(R),c=b.width-a.width+b.left,d=Z.sideSpace-c;return d}function o(){var a=-e(),b=Z.sideSpace-a;return b}function p(){var a=V.getElementSize(Q);return a.width}function q(){var a=p(),b=h(a);return b}function r(a){if(!a)var a=!1;var b,c=g(),d=0,e=0;return jQuery.each(c,function(a,f){f=jQuery(f),V.placeElement(f,d,0);var g=V.getElementSize(f);d+=g.width+Y.carousel_space_between_tiles,e=Math.max(e,g.height),a==c.length-1&&(b=g.right)}),R.width(b),e+=2*Y.carousel_padding,a===!0&&(R.height(e),Q.height(e)),w(Z.numCurrent,!1),b}function s(a){if(a>g().length-1)throw new Error("Wrogn tile number: "+a)}function t(a,b){if("left"==b)var c=k();else var c=l();var d="left"==b?"prev":"next",e=m(c,a,d);jQuery.each(e,function(a,c){"left"==b?R.prepend(c):R.append(c),O.trigger(Z.eventSizeChange,c),W.loadTileImage(c)})}function u(a,b){s(d);for(var c=g(),d=c.length,e=0;a>e;e++)"left"==b?jQuery(c[e]).remove():jQuery(c[d-1-e]).remove()}function v(a){var b={left:a+"px"};R.css(b)}function w(a,b,c){if(void 0===b){var b=!0;if(R.is(":animated"))return!0}var d=j(a),e=V.getElementSize(d),f=-e.left+Y.carousel_padding,g={left:f+"px"};if(b===!0){var h=Y.carousel_scroll_duration,i=Y.carousel_scroll_easing;c===!0&&(h=Z.scrollShortDuration,i=Z.scrollShortEasing),R.stop(!0).animate(g,{duration:h,easing:i,queue:!1,complete:function(){Z.numCurrent=a,z(!0)}})}else Z.numCurrent=a,R.css(g)}function x(){var a=-e(),b=h(a),c=V.getElementSize(j(b)).left,d=V.getElementSize(j(b+1)).left;return Math.abs(c-a)<Math.abs(d-a)?b:b+1}function y(){var a=x();w(a,!0,!0)}function z(){var a=o(),b=n(),c=0,d=0,e=0,f=0,g=i();if(a>Z.spaceActionSize)c=h(a),t(c,"left"),Z.numCurrent+=c;else if(a<-Z.spaceActionSize){var e=h(Math.abs(a));u(e,"left"),Z.numCurrent-=e}if(b>Z.spaceActionSize?(d=h(b),t(d,"right")):b<-Z.spaceActionSize&&(f=h(Math.abs(b)),u(f,"right")),f>g)throw new Error("Can't remove more then num tiles");var j=!1;return(c||d||e||f)&&(r(),j=!0),j}function A(){V.placeElement(R,0,Y.carousel_padding),z()}function B(){Z.isPlayMode=!0,Z.isPaused=!1,T.trigger(S.events.START_PLAY),Z.handle&&clearInterval(Z.handle),Z.handle=setInterval(F,Y.carousel_autoplay_timeout)}function C(){return 0==Z.isPlayMode?!0:0==Z.isPaused?!0:void B()}function D(){return 0==Z.isPlayMode?!0:(Z.isPaused=!0,Z.handle&&clearInterval(Z.handle),void T.trigger(S.events.PAUSE_PLAY))}function E(){return 0==Z.isPlayMode?!0:(Z.isPaused=!1,Z.isPlayMode=!1,Z.handle&&clearInterval(Z.handle),void T.trigger(S.events.STOP_PLAY))}function F(){"left"==Y.carousel_autoplay_direction?S.scrollRight(1):S.scrollLeft(1)}function G(a){return 1==Z.touchActive?!0:(Z.touchActive=!0,D(),Z.startTime=jQuery.now(),Z.startMousePos=f(a),Z.startInnerPos=e(),Z.lastTime=Z.startTime,Z.lastMousePos=Z.startMousePos,void V.storeEventData(a,Z.storedEventID))}function H(a){if(0==Z.touchActive)return!0;V.updateStoredEventData(a,Z.storedEventID),a.preventDefault();var b=null;if(1==Y.carousel_vertical_scroll_ondrag&&(b=V.handleScrollTop(Z.storedEventID)),"vert"===b)return!0;Z.lastMousePos=f(a);var c=Z.lastMousePos-Z.startMousePos,d=Z.startInnerPos+c,e=c>0?"prev":"next",g=V.getElementSize(R).width;d>0&&"prev"==e&&(d/=3),-g>d&&"next"==e&&(d=Z.startInnerPos+c/3),v(d)}function I(){return 0==Z.touchActive?!0:(Z.touchActive=!1,y(),void C())}function J(){return 0==Y.carousel_autoplay_pause_onhover?!0:void(1==Z.isPlayMode&&0==Z.isPaused&&D())}function K(){return 0==Y.carousel_autoplay_pause_onhover?!0:void C()}function L(){W.initEvents(),Q.bind("mousedown touchstart",G),jQuery("body").bind("mousemove touchmove",H),jQuery(window).add("body").bind("mouseup touchend",I),Q.hover(J,K)}function M(){var a=Z.lastTime-Z.startTime,b=Math.abs(Z.lastMousePos-Z.startMousePos);return a>300?!1:b>30?!1:!0}var N,O,P,Q,R,S=this,T=jQuery(this),U=new UniteGalleryMain,V=new UGFunctions,W=new UGTileDesign,X=new UGThumbsGeneral,Y={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var Z={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.destroy=function(){Z.handle&&clearInterval(Z.handle),T.off(S.events.START_PLAY),T.off(S.events.STOP_PLAY),Q.unbind("mousedown"),Q.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),Q.off("mouseenter").off("mouseleave"),W.destroy()},this.init=function(b,c,d){d&&this.setMaxWidth(d),a(b,c)},this.setMaxWidth=function(a){Z.carouselMaxWidth=a},this.setHtml=function(a){b(a)},this.getElement=function(){return Q},this.getObjTileDesign=function(){return W},this.getEstimatedHeight=function(){var a=Y.tile_height+2*Y.carousel_padding;return a},this.run=function(){d()},this.scrollRight=function(a){if(!a||"object"==typeof a)var a=Y.carousel_navigation_numtiles;var b=q();a>b&&(a=b);var c=Z.numCurrent-a;0>=c&&(c=0),w(c)},this.scrollLeft=function(a){if(!a||"object"==typeof a)var a=Y.carousel_navigation_numtiles;var b=q();a>b&&(a=b);var c=i(),d=Z.numCurrent+a;d>=c&&(d=c-1),w(d)},this.setScrollLeftButton=function(a){V.setButtonMobileReady(a),V.setButtonOnClick(a,S.scrollLeft)},this.setScrollRightButton=function(a){V.setButtonMobileReady(a),V.setButtonOnClick(a,S.scrollRight)},this.setPlayPauseButton=function(a){V.setButtonMobileReady(a),1==Z.isPlayMode&&0==Z.isPaused&&a.addClass("ug-pause-icon"),T.on(S.events.START_PLAY,function(){a.addClass("ug-pause-icon")}),T.on(S.events.STOP_PLAY,function(){a.removeClass("ug-pause-icon")}),V.setButtonOnClick(a,function(){0==Z.isPlayMode||1==Z.isPaused?B():E()})}}function debugLine(a,b,c){a===!0&&(a="true"),a===!1&&(a="false");var d=a;if("object"==typeof a){d="";for(name in a){var e=a[name];d+=" "+name+": "+e}}if(1!=b||c||(d+=" "+Math.random()),1==c){var f=jQuery("#debug_line");f.width(200),f.height()>=500&&f.html("");var g=f.html();d=g+"<br> -------------- <br>"+d}jQuery("#debug_line").show().html(d)}function debugSide(a){var b="";for(name in a){var c=a[name];b+=name+" : "+c+"<br>"}jQuery("#debug_side").show().html(b)}function trace(a){"undefined"!=typeof console&&console.log(a)}function UGFunctions(){function a(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c}var c=null,d=this,e={starTime:0,arrThemes:[],isTouchDevice:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.z__________FULL_SCREEN___________=function(){},this.normalizePercent=function(a){return 0>a&&(a=0),a>1&&(a=1),a},this.toFullscreen=function(a){if(a.requestFullscreen)a.requestFullscreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else{if(!a.webkitRequestFullscreen)return!1;a.webkitRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==d.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.webkitExitFullscreen)return!1;document.webkitExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(b){a("fullscreenchange",document,b),a("mozfullscreenchange",document,b),a("webkitfullscreenchange",document,b),a("msfullscreenchange",document,b)},this.getFullScreenElement=function(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return a},this.isFullScreen=function(){var a=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return a||(a=!1),a},this.z__________END_FULL_SCREEN___________=function(){},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==c)return c;var a=["webkit","Moz","ms","O"],b=document.createElement("div");for(var d in a){var e=a[d];if(e+"Transform"in b.style)return e=e.toLowerCase(),c=e,e}return c="",""},this.getImageInsideParentDataByImage=function(a,b,c){var e=a.parent(),f=d.getImageOriginalSize(a),g=d.getImageInsideParentData(e,f.width,f.height,b,c);return g},this.getImageInsideParentData=function(a,b,c,d,e,f,g){if(!e)var e={};var h={};if("undefined"==typeof f)var f=a.width();if("undefined"==typeof g)var g=a.height();e.padding_left&&(f-=e.padding_left),e.padding_right&&(f-=e.padding_right),e.padding_top&&(g-=e.padding_top),e.padding_bottom&&(g-=e.padding_bottom);var i=null,j="100%",k=null,l=null,m="display:block;margin:0px auto;";if(b>0&&c>0){if("down"==d&&f>b&&g>c)j=c,i=b,l=(f-i)/2,k=(g-j)/2;else if("fill"==d){var n=b/c;j=g,i=j*n,f>i?(i=f,j=i/n,l=0,k=Math.round((j-g)/2*-1)):(k=0,l=Math.round((i-f)/2*-1))}else{var n=b/c;j=g,i=j*n,k=0,l=(f-i)/2,"fitvert"!=d&&i>f&&(i=f,j=i/n,l=0,k=(g-j)/2)}i=Math.floor(i),j=Math.floor(j),k=Math.floor(k),l=Math.floor(l),m="position:absolute;"}return e.padding_top&&(k+=e.padding_top),e.padding_left&&(l+=e.padding_left),h.imageWidth=i,h.imageHeight=j,h.imageTop=k,h.imageLeft=l,h.imageRight=l+i,h.imageBottom=0==k||"100%"==j?null:k+j,h.style=m,h},this.getElementCenterPosition=function(a,b){var c=a.parent(),e=d.getElementSize(a),f=d.getElementSize(c),g=f.width,h=f.height;b&&void 0!==b.padding_top&&(h-=b.padding_top),b&&void 0!==b.padding_bottom&&(h-=b.padding_bottom),b&&void 0!==b.padding_left&&(g-=b.padding_left),b&&void 0!==b.padding_right&&(g-=b.padding_right);var i={};return i.left=Math.round((g-e.width)/2),i.top=Math.round((h-e.height)/2),b&&void 0!==b.padding_top&&(i.top+=b.padding_top),b&&void 0!==b.padding_left&&(i.left+=b.padding_left),i},this.getElementCenterPoint=function(a,b){if(!b)var b=!1;var c=d.getElementSize(a),e={};return e.x=c.width/2,e.y=c.height/2,1==b&&(e.x+=c.left,e.y+=c.top),e.x=Math.round(e.x),e.y=Math.round(e.y),e},this.getMousePosition=function(a,b){var c={pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c.pageX=a.originalEvent.touches[0].pageX,c.pageY=a.originalEvent.touches[0].pageY,c.clientX=a.originalEvent.touches[0].clientX,c.clientY=a.originalEvent.touches[0].clientY),b){var d=b.offset();c.mouseX=c.pageX-d.left,c.mouseY=c.pageY-d.top}return c},this.getMouseElementPoint=function(a,b){var c={x:a.pageX,y:a.pageY},e=d.getElementLocalPoint(c,b);return e},this.getElementLocalPoint=function(a,b){var c={},d=b.offset();return c.x=Math.round(a.x-d.left),c.y=Math.round(a.y-d.top),c},this.getImageOriginalSize=function(a){var b=a[0],c={};return c.width=b.naturalWidth,c.height=b.naturalHeight,c},this.getimageRatio=function(a){var b=d.getImageOriginalSize(a),c=d.getElementSize(a),e=c.width/b.width;return e},this.isImageFitParent=function(a){var b=a.parent(),c=d.getElementSize(a),e=d.getElementSize(b);return c.width<=e.width&&c.height<=e.height?!0:!1},this.getElementSize=function(a){var b=a.position();if(void 0==b)throw new Error("Can't get size, empty element");return b.height=a.outerHeight(),b.width=a.outerWidth(),b.left=Math.round(b.left),b.top=Math.round(b.top),b.right=b.left+b.width,b.bottom=b.top+b.height,b},this.isElementBiggerThenParent=function(a){var b=a.parent(),c=d.getElementSize(a),e=d.getElementSize(b);return c.width>e.width||c.height>e.height?!0:!1},this.isPointInsideElement=function(a,b){var c=a.x>=0&&a.x<b.width;if(0==c)return!1;var d=a.y>=0&&a.y<b.height;return 0==d?!1:!0},this.getElementRelativePos=function(a,b,c,e){if(!e)var e=a.parent();var f=d.getElementSize(a),g=d.getElementSize(e);switch(b){case"top":case"left":b=0,c&&(b+=c);break;case"center":b=Math.round((g.width-f.width)/2),c&&(b+=c);break;case"right":b=g.width-f.width,c&&(b-=c);break;case"middle":b=Math.round((g.height-f.height)/2),c&&(b+=c);break;case"bottom":b=g.height-f.height,c&&(b-=c)}return b},this.z__________END_GET_PROPS___________=function(){},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(a,b,c,e,f,g,h){if(!c)var c=1.2;if(!f)var f="fit";var i,j,k,l,m=c,n=a.parent(),o=d.getElementSize(a),p=d.getImageOriginalSize(a),q=!1,r=0,s=0,t=0,u=0;if(e){var v=d.getMouseElementPoint(e,a);q=d.isPointInsideElement(v,o),t=v.x,u=v.y}else q=!1;if(0==q){var w=d.getElementCenterPoint(a);t=w.x,u=w.y}if(1==b)i=o.height*m,j=o.width*m,0!=t&&(r=-(t*m-t)),0!=u&&(s=-(u*m-u));else{i=o.height/m,j=o.width/m;var x=d.getImageInsideParentData(n,p.width,p.height,f,h);if(j<x.imageWidth)return d.scaleImageFitParent(a,p.width,p.height,f,h),!0;1==q&&(0!=t&&(r=-(t/m-t)),0!=u&&(s=-(u/m-u)))}if(g){var y=1;if(0!=p.width&&(y=j/p.width),y>g)return!1}if(d.setElementSize(a,j,i),0==b&&0==q){var z=d.getElementCenterPosition(a);k=z.left,l=z.top}else k=o.left+r,l=o.top+s;return d.placeElement(a,k,l),!0},this.placeElement=function(a,b,c,e,f,g){if(0==jQuery.isNumeric(b)||0==jQuery.isNumeric(c)){if(!g)var g=a.parent();var h=d.getElementSize(a),i=d.getElementSize(g)}if(0==jQuery.isNumeric(b))switch(b){case"left":b=0,e&&(b+=e);break;case"center":b=Math.round((i.width-h.width)/2),e&&(b+=e);break;case"right":b=i.width-h.width,e&&(b-=e)}if(0==jQuery.isNumeric(c))switch(c){case"top":c=0,f&&(c+=f);break;case"middle":case"center":c=Math.round((i.height-h.height)/2),f&&(c+=f);break;case"bottom":c=i.height-h.height,f&&(c-=f)}var j={position:"absolute",margin:"0px"};null!==b&&(j.left=b),null!==c&&(j.top=c),a.css(j)},this.placeElementInParentCenter=function(a){d.placeElement(a,"center","middle")},this.setElementSizeAndPosition=function(a,b,c,d,e){var f={width:d+"px",height:e+"px",left:b+"px",top:c+"px",position:"absolute",margin:"0px"};a.css(f)},this.setElementSize=function(a,b,c){var d={width:b+"px",height:c+"px"};a.css(d)},this.cloneElementSizeAndPos=function(a,b,c,e,f){var g=a.position();if(void 0==g)throw new Error("Can't get size, empty element");c===!0?(g.height=a.outerHeight(),g.width=a.outerWidth()):(g.height=a.height(),g.width=a.width()),g.left=Math.round(g.left),g.top=Math.round(g.top),e&&(g.left+=e),f&&(g.top+=f),d.setElementSizeAndPosition(b,g.left,g.top,g.width,g.height)},this.placeImageInsideParent=function(a,b,c,e,f,g){var h=d.getImageInsideParentData(b,c,e,f,g),i="<img";null!==h.imageWidth&&(i+=" width = '"+h.imageWidth+"'",h.style+="width:"+h.imageWidth+";"),null!=h.imageHeight&&("100%"==h.imageHeight?(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+";"):(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+"px;")),null!==h.imageTop&&(h.style+="top:"+h.imageTop+"px;"),null!==h.imageLeft&&(h.style+="left:"+h.imageLeft+"px;"),i+=" style='"+h.style+"'",i+=" src='"+a+"'",i+=">",b.html(i);var j=b.children("img");return j},this.scaleImageCoverParent=function(a,b){var c=b.outerWidth(),e=b.outerHeight(),f=d.getImageOriginalSize(a),g=f.width,h=f.height,i=g/h,j=e,k=j*i,l=0,m=0;c>k?(k=c,j=k/i,m=0,l=Math.round((j-e)/2*-1)):(l=0,m=Math.round((k-c)/2*-1)),k=Math.round(k),j=Math.round(j),a.css({width:k+"px",height:j+"px",left:m+"px",top:l+"px"})},this.scaleImageFitParent=function(a,b,c,e,f){var g=a.parent(),h=d.getImageInsideParentData(g,b,c,e,f),i=!1,j={};null!==h.imageWidth&&(a.removeAttr("width"),j.width=h.imageWidth+"px"),null!=h.imageHeight&&(a.removeAttr("height"),j.height=h.imageHeight+"px"),null!==h.imageTop&&(i=!0,j.top=h.imageTop+"px"),null!==h.imageLeft&&(i=!0,j.left=h.imageLeft+"px"),1==i&&(j.position="absolute",j.margin="0px 0px",a.css(j))},this.scaleImageExactSizeInParent=function(a,b,c,e,f,g){var h=a.parent(),i=d.getElementSize(h);i.width<e&&(e=i.width),i.height<f&&(f=i.height);var j=d.getImageInsideParentData(null,b,c,g,null,e,f),k=e,l=f,m=j.imageLeft,n=j.imageLeft,o=j.imageTop,p=j.imageTop,q=Math.round((i.width-e)/2),r=Math.round((i.height-f)/2),s=j.imageWidth+m+n,t=e-s;0!=t&&(n+=t);var u=j.imageHeight+o+p,t=f-u;0!=t&&(p+=t),a.removeAttr("width"),a.removeAttr("height");var v={position:"absolute",margin:"0px 0px"};v.width=k+"px",v.height=l+"px",v.left=q+"px",v.top=r+"px",v["padding-left"]=m+"px",v["padding-top"]=o+"px",v["padding-right"]=n+"px",v["padding-bottom"]=p+"px",a.css(v)},this.showElement=function(a,b,c){a.show().fadeTo(0,1),b&&b.show().fadeTo(0,1),c&&c.show().fadeTo(0,1)},this.z_________END_SET_ELEMENT_PROPS_______=function(){},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(a,b){if(!b)var b="ug-button-disabled";0==d.isButtonDisabled(a,b)&&a.addClass(b)},this.convertCustomPrefixOptions=function(a,b,c){if(!b)return a;var d={};return jQuery.each(a,function(a,e){if(0===a.indexOf(b+"_"+c+"_")){var f=a.replace(b+"_"+c+"_",c+"_");d[f]=e}else d[a]=e}),d},this.enableButton=function(a,b){if(!b)var b="ug-button-disabled";1==d.isButtonDisabled(a,b)&&a.removeClass(b)},this.isButtonDisabled=function(a,b){if(!b)var b="ug-button-disabled";return a.hasClass(b)?!0:!1},this.z_________END_GALLERY_RELATED_FUNCTIONS_______=function(){},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(a,b,c,d,e,f){if(!f)var f=!1;var g=(e-c)/(d-c);return e=a+(b-a)*g,1==f&&(a>e&&(e=a),e>b&&(e=b)),e},this.getNormalizedValue=function(a,b,c,d,e){var f=(e-a)/(b-a);return e=a+(d-c)*f},this.getDistance=function(a,b,c,d){var e=Math.round(Math.sqrt(Math.abs((c-a)*(c-a)+(d-b)*(d-b))));return e},this.getMiddlePoint=function(a,b,c,d){var e={};return e.x=a+Math.round((c-a)/2),e.y=b+Math.round((d-b)/2),e},this.getNumItemsInSpace=function(a,b,c){var d=Math.floor((a+c)/(b+c));return d},this.getSpaceByNumItems=function(a,b,c){var d=a*b+(a-1)*c;return d},this.getColX=function(a,b,c){var d=a*(b+c);return d},this.getColByIndex=function(a,b){var c=b%a;return c},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(a){if(0==d.isTouchDevice())return null;var b=d.getStoredEventData(a),c=15,f=15;if(null===b.scrollDir&&(Math.abs(b.diffMouseX)>c?b.scrollDir="hor":Math.abs(b.diffMouseY)>f&&Math.abs(b.diffMouseY)>Math.abs(b.diffMouseX)&&(b.scrollDir="vert",b.scrollStartY=b.lastMouseClientY,b.scrollOrigin=jQuery(document).scrollTop(),e.dataCache[a].scrollStartY=b.lastMouseClientY,e.dataCache[a].scrollOrigin=b.scrollOrigin),e.dataCache[a].scrollDir=b.scrollDir),"vert"!==b.scrollDir)return b.scrollDir;var g=(jQuery(document).scrollTop(),b.scrollOrigin-(b.lastMouseClientY-b.scrollStartY));return g>=0&&jQuery(document).scrollTop(g),b.scrollDir},this.wasVerticalScroll=function(a){var b=d.getStoredEventData(a);return"vert"===b.scrollDir?!0:!1},this.storeEventData=function(a,b,c){var f=d.getMousePosition(a),g=jQuery.now(),h={startTime:g,lastTime:g,startMouseX:f.pageX,startMouseY:f.pageY,lastMouseX:f.pageX,lastMouseY:f.pageY,startMouseClientY:f.clientY,lastMouseClientY:f.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};c&&(h=jQuery.extend(h,c)),e.dataCache[b]=h},this.updateStoredEventData=function(a,b,c){if(!e.dataCache[b])throw new Error("updateEventData error: must have stored cache object");var f=e.dataCache[b],g=d.getMousePosition(a);f.lastTime=jQuery.now(),void 0!==g.pageX&&(f.lastMouseX=g.pageX,f.lastMouseY=g.pageY,f.lastMouseClientY=g.clientY),c&&(f=jQuery.extend(f,c)),e.dataCache[b]=f},this.getStoredEventData=function(a,b){if(!e.dataCache[a])throw new Error("updateEventData error: must have stored cache object");var c=e.dataCache[a];return c.diffMouseX=c.lastMouseX-c.startMouseX,c.diffMouseY=c.lastMouseY-c.startMouseY,c.diffMouseClientY=c.lastMouseClientY-c.startMouseClientY,c.diffTime=c.lastTime-c.startTime,b===!0?(c.startMousePos=c.lastMouseY,c.lastMousePos=c.lastMouseY,c.diffMousePos=c.diffMouseY):(c.startMousePos=c.lastMouseX,c.lastMousePos=c.lastMouseX,c.diffMousePos=c.diffMouseX),c},this.isApproveStoredEventClick=function(a,b){if(!e.dataCache[a])return!0;var c=d.getStoredEventData(a,b),f=Math.abs(c.diffMousePos);return c.diffTime>400?!1:f>30?!1:!0},this.clearStoredEventData=function(a){e.dataCache[a]=null},this.z_________GENERAL_FUNCTIONS_______=function(){},this.getCssSizeParam=function(a){return jQuery.isNumeric(a)?a+"px":a},this.convertHexToRGB=function(a,c){var d=a.replace("#","");return d===a?a:(r=parseInt(d.substring(0,2),16),g=parseInt(d.substring(2,4),16),b=parseInt(d.substring(4,6),16),result="rgba("+r+","+g+","+b+","+c+")",result)},this.timestampToString=function(a){var b=new Date(a),c=b.getDate()+"/"+b.getMonth();return c+=" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+":"+b.getMilliseconds()},this.getArrTouches=function(a){var b=[];return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(b=a.originalEvent.touches),b},this.getArrTouchPositions=function(a){for(var b=[],c=0;c<a.length;c++){var d={pageX:a[c].pageX,pageY:a[c].pageY};b.push(d)}return b},this.startTimeDebug=function(){e.starTime=jQuery.now()},this.showTimeDebug=function(){var a=jQuery.now(),b=a-e.starTime;debugLine({"Time Passed":b},!0)},this.isCanvasExists=function(){var a=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof a.getContext?!0:!1},this.isScrollbarExists=function(){var a=window.innerWidth>document.documentElement.clientWidth;return a},this.initProgressIndicator=function(a,b,c){switch("bar"!=a&&0==d.isCanvasExists()&&(a="bar"),a){case"bar":var e=new UGProgressBar;e.putHidden(c,b);break;default:case"pie":var e=new UGProgressPie;e.putHidden(c,b);break;case"pie2":b.type_fill=!0;var e=new UGProgressPie;e.putHidden(c,b)}return e},this.setButtonMobileReady=function(a){a.on("touchstart",function(){jQuery(this).addClass("ug-nohover")}),a.on("mousedown touchend",function(a){return a.stopPropagation(),a.stopImmediatePropagation(),!1})},this.registerTheme=function(a){e.arrThemes.push(a)},this.getArrThemes=function(){return e.arrThemes},this.isThemeRegistered=function(a){return-1!==jQuery.inArray(a,e.arrThemes)?!0:!1},this.getFirstRegisteredTheme=function(){if(0==e.arrThemes.length)return"";var a=e.arrThemes[0];return a},this.isTouchDevice=function(){if(-1!==e.isTouchDevice)return e.isTouchDevice;try{document.createEvent("TouchEvent"),e.isTouchDevice=!0}catch(a){e.isTouchDevice=!1}return e.isTouchDevice},this.isDesktopDevice=function(){var a=void 0===typeof window.screenX||d.isTouchDevice()?!1:!0;return a},this.isTimePassed=function(a,b){if(!b)var b=100;var c=jQuery.now();lastTime=0==e.timeCache.hasOwnProperty(a)?0:e.timeCache[a];var d=c-lastTime;return e.timeCache[a]=c,b>=d?!1:!0},this.whenContiniousEventOver=function(a,b,c){if(!c)var c=300;1==e.timeCache.hasOwnProperty(a)&&null!=e.timeCache[a]&&(clearTimeout(e.timeCache[a]),e.timeCache[a]=null),e.timeCache[a]=setTimeout(b,c)},this.validateClickTouchstartEvent=function(a){var b=!0,c=jQuery.now()-e.lastEventTime;return"click"==a&&"touchstart"==e.lastEventType&&1e3>c&&(b=!1),e.lastEventTime=jQuery.now(),e.lastEventType=a,b},this.addClassOnHover=function(a,b){if(!b)var b="ug-button-hover";a.hover(function(){jQuery(this).addClass(b)},function(){jQuery(this).removeClass(b)})},this.destroyButton=function(a){a.off("mouseenter"),a.off("mouseleave"),a.off("click"),a.off("touchstart"),a.off("touchend"),a.off("mousedown")},this.setButtonOnClick=function(a,b){d.setButtonMobileReady(a),a.on("click touchstart",function(a){return objThis=jQuery(this),a.stopPropagation(),a.stopImmediatePropagation(),0==d.validateClickTouchstartEvent(a.type)?!0:void b(objThis,a)})},this.loadJs=function(a,b){b===!0&&(a=location.protocol+"//"+a);var c=document.createElement("script");c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)},this.loadCss=function(a,b){b===!0&&(a=location.protocol+"//"+a);var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a),document.getElementsByTagName("head")[0].appendChild(c)},this.addEvent=function(a,b,c){"undefined"!=typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},this.checkImagesLoaded=function(a,b,c){function d(a,d){e++,"function"==typeof c&&setTimeout(function(){c(a,d)}),e==f&&"function"==typeof b&&setTimeout(function(){b()})}var e=0,f=a.length;return 0==f&&b?(b(),!1):void setTimeout(function(){for(var b=0;f>b;b++){var c=a[b];if(void 0!==c.naturalWidth&&0!==c.naturalWidth)d(a[b],!1);else{var e=jQuery("<img/>");e.data("index",b),e.on("load",function(){var b=jQuery(this).data("index");d(a[b],!1)}),e.on("error",function(){var b=jQuery(this).data("index");d(a[b],!0)}),e.attr("src",c.src)}}})},this.waitForWidth=function(a,b){var c=a.width();return 0!=c?(b(),!1):void(e.handle=setInterval(function(){c=a.width(),0!=c&&(clearInterval(e.handle),b())},300))},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function ugCheckForErrors(a,b){if("function"==typeof jQuery.fn.unitegallery)return!0;var c="Unite Gallery Error: You have some jquery.js library include that comes after the gallery files js include.";return c+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==b?(c+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",c+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):c+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",c="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+c+"</div>",jQuery(a).show().html(c),!1}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(a){var b=a;return-1==b.indexOf("UGTheme_")&&(b="UGTheme_"+b),b}function initTheme(objParams){if(objParams.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objParams.gallery_theme;
else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme&&"function"==typeof g_objTheme.destroy&&(g_objTheme.destroy(),g_objWrapper.html("")),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,g_temp.objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function runGallery(a,b){if(g_temp.objCustomOptions=b,1==g_temp.isRunFirstTime){if(g_galleryID=a,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_temp.originalOptions=jQuery.extend({},g_options);var c=g_objWrapper.children();fillItemsArray(c),loadAPIs(),g_objWrapper.children("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else resetOptions();g_options=jQuery.extend(g_options,b),modifyInitParams(b),validateParams(),initTheme(b),setGalleryHtml(),setHtmlObjectsProperties();var d=g_objWrapper.width();0==d?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(a){a="<b>Gallery Error: </b>"+a;var b="<div class='ug-error-message'>"+a+"</div>";g_objWrapper.children().remove(),g_objWrapper.width(g_options.gallery_width),g_objWrapper.height(g_options.gallery_height),g_objWrapper.css("border","1px solid black"),g_objWrapper.html(b),g_objWrapper.show()}function modifyInitParams(a){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),void 0==a.gallery_min_height&&g_options.gallery_height<g_options.gallery_min_height&&(g_options.gallery_min_height=0),void 0==a.gallery_min_width&&g_options.gallery_width<g_options.gallery_min_width&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var a=t.getSize();g_temp.lastWidth=a.width,g_temp.lastHeight=a.height}function setHeightByOriginalRatio(){var a=t.getSize(),b=a.width/a.height;if(b!=a.orig_ratio){var c=a.width/a.orig_ratio;c=Math.round(c),c<g_options.gallery_min_height&&(c=g_options.gallery_min_height),g_objWrapper.height(c)}}function setHtmlObjectsProperties(){var a=g_functions.getCssSizeParam(g_options.gallery_width),b={"max-width":a,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};0==g_temp.isFreestyleMode?b.height=g_options.gallery_height+"px":b.overflow="visible",g_options.gallery_background_color&&(b["background-color"]=g_options.gallery_background_color),g_objWrapper.css(b)}function fillItemsArray(a){for(var b=0,c=0;c<a.length;c++){var d=jQuery(a[c]),e=d.prop("tagName").toLowerCase(),f="";if("a"==e){f=d.attr("href"),d=d.children();var e=d.prop("tagName").toLowerCase()}var g=d.data("type");void 0==g&&(g="image");var h={};if(h.type=g,"img"==e)h.urlThumb=d.attr("src"),h.title=d.attr("alt"),h.objThumbImage=d;else{if("image"==g)throw new Error("The item should not be image type");h.urlThumb=d.data("thumb"),h.title=d.data("title"),h.objThumbImage=null}h.link=f,h.description=d.data("description"),h.description||(h.description=""),h.isLoaded=!1,h.isThumbImageLoaded=!1,h.objPreloadImage=null,h.urlImage=d.data("image"),h.isBigImageLoadStarted=!1,h.isBigImageLoaded=!1,h.isBigImageLoadError=!1,h.imageWidth=0,h.imageHeight=0;var i=void 0==h.urlImage||""==h.urlImage,j=void 0==h.urlThumb||""==h.urlThumb;switch(h.type){case"youtube":if(h.videoid=d.data("videoid"),i||j){var k=g_ugYoutubeAPI.getVideoImages(h.videoid);i&&(h.urlImage=k.preview),j&&(h.urlThumb=k.thumb,"img"==e&&d.attr("src",h.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":h.videoid=d.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":h.videoogv=d.data("videoogv"),h.videowebm=d.data("videowebm"),h.videomp4=d.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":h.trackid=d.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":h.videoid=d.data("videoid"),g_temp.isWistiaPresent=!0;break;case"iframe":h.iframesrc=d.data("iframesrc")}h.objThumbImage&&(h.objThumbImage.removeAttr("data-description",""),h.objThumbImage.removeAttr("data-image","")),h.index=b,g_arrItems.push(h),b++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var a=this,b=g_objThumbs.isItemThumbVisible(a);1==b&&preloadItemImage(a)})}}function checkPreloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(a);break;case"visible":var b=g_objThumbs.isItemThumbVisible(a);1==b&&preloadItemImage(a)}}function preloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!0;var b=a.urlImage;return""==b||void 0==b?(a.isBigImageLoadError=!0,!1):(a.isBigImageLoadStarted=!0,a.objPreloadImage=jQuery("<img/>").attr("src",b),a.objPreloadImage.data("itemIndex",a.index),a.objPreloadImage.on("load",t.onItemBigImageLoaded),a.objPreloadImage.on("error",function(){var a=jQuery(this),b=a.data("itemIndex"),c=g_arrItems[b];c.isBigImageLoadError=!0,c.isBigImageLoaded=!1;var d=jQuery(this).attr("src");console.log("Can't load image: "+d),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[b,c.urlImage]),c.objThumbImage.attr("src",c.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(a){if(1==g_temp.isAllItemsPreloaded)return!1;if(!a)var a=g_selectedItem;if(!a)return!0;var b=a.index,c=b-1,d=b+1;c>0&&preloadItemImage(g_arrItems[c]),g_numItems>d&&preloadItemImage(g_arrItems[d])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var a in g_arrItems)if(0==g_arrItems[a].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onGalleryMouseWheel(a,b){a.preventDefault(),b>0?t.prevItem():t.nextItem()}function onSliderMouseEnter(){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.continuePlaying()}function onKeyPress(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0;switch(b){case 39:t.nextItem(),a.preventDefault();break;case 37:t.prevItem(),a.preventDefault()}g_objGallery.trigger(t.events.GALLERY_KEYPRESS,b)}function onGalleryResized(){t.setSizeClass();var a=t.getSize();(a.width!=g_temp.lastWidth||a.height!=g_temp.lastHeight)&&(1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE))}function onThumbsChange(){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var a=g_functions.isFullScreen(),b=a?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN;a?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(b),onGalleryResized()}function onItemImageUpdated(a,b){var c=t.getItem(b);checkPreloadItemImage(c)}function initEvents(){if(g_objWrapper.on("dragstart",function(a){a.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&g_objWrapper.on("mousewheel",onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var a=g_objSlider.getCurrentItemIndex();-1!=a&&t.selectItem(a)}),1==g_options.gallery_pause_on_mouseover){var a=g_objSlider.getElement();a.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function removeAllSizeClasses(a){a||(a=g_objWrapper),a.removeClass("ug-under-480"),a.removeClass("ug-under-780"),a.removeClass("ug-under-960")}function retriggerEvent(a,b,c){jQuery(a).on(b,function(){g_objGallery.trigger(c,[this])})}function advanceNextStep(){var a=jQuery.now(),b=a-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=b,g_temp.playTimeLastStep=a,g_temp.objProgress){var c=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(c)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem?!0:(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function __________END_GENERAL_______(){}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme;this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_debug_errors:!1,gallery_background_color:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{}};this.onItemBigImageLoaded=function(a,b){if(!b)var b=jQuery(this);var c=b.data("itemIndex"),d=g_arrItems[c];d.isBigImageLoaded=!0;var e=g_functions.getImageOriginalSize(b);d.imageWidth=e.width,d.imageHeight=e.height},this.checkFillImageSize=function(a,b){if(!b){var c=a.data("itemIndex");if(void 0===c)throw new Error("Wrong image given to gallery.checkFillImageSize");var b=g_arrItems[c]}var d=g_functions.getImageOriginalSize(a);b.imageWidth=d.width,b.imageHeight=d.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.initThumbsPanel=function(a,b){if(!b)var b={};if(!a)var a="strip";switch(g_temp.thumbsType=a,a){case"strip":g_objThumbs=new UGThumbsStrip;break;case"grid":g_objThumbs=new UGThumbsGrid;break;default:throw new Error("Wrong thumbs type: "+a)}b=jQuery.extend(b,g_temp.objCustomOptions),g_objThumbs.init(t,b)},this.initSlider=function(a,b){if(!a)var a={};a=jQuery.extend(a,g_temp.objCustomOptions),g_objSlider=new UGSlider,g_objSlider.init(t,a,b)},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var a={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return a},this.getObjSlider=function(){return g_objSlider},this.getItem=function(a){if(0>a)throw new Error("item with index: "+a+" not found");if(a>=g_numItems)throw new Error("item with index: "+a+" not found");return g_arrItems[a]},this.getWidth=function(){var a=t.getSize();return a.width},this.getHeight=function(){var a=t.getSize();return a.height},this.getSize=function(){var a=g_functions.getElementSize(g_objWrapper);return a.orig_width=g_options.gallery_width,a.orig_height=g_options.gallery_height,a.orig_ratio=a.orig_width/a.orig_height,a},this.getGalleryID=function(){var a=g_galleryID.replace("#","");return a},this.getNextItem=function(a,b){"object"==typeof a&&(a=a.index);var c=a+1;if(b!==!0&&1==g_numItems)return null;if(c>=g_numItems){if(1!=g_options.gallery_carousel&&b!==!0)return null;c=0}var d=g_arrItems[c];return d},this.getPrevItem=function(a){"object"==typeof a&&(a=a.index);var b=a-1;if(0>b){if(1!=g_options.gallery_carousel&&forceCarousel!==!0)return null;b=g_numItems-1}var c=g_arrItems[b];return c},this.getSelectedItem=function(){return g_selectedItem},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1?!0:!1},this.isFirstItem=function(){return 0==g_selectedItemIndex?!0:!1},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.nextItem)},this.setPrevButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.prevItem)},this.setFullScreenToggleButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){a.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){a.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){a.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){a.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(a){g_temp.objProgress=a},this.setTextContainers=function(a,b){g_objGallery.on(t.events.ITEM_CHANGE,function(){var c=t.getSelectedItem();a.html(c.title),b.html(c.description)})},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var a=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),a.show()}g_objGallery.trigger(t.events.START_PLAY)},this.resetPlaying=function(){return 0==g_temp.isPlayMode?!0:(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var a=g_temp.objProgress.getElement();a.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________END_PLAY_MODE___________=function(){},this.setOptions=function(a){g_options=jQuery.extend(g_options,a)},this.selectItem=function(a){"number"==typeof a&&(a=t.getItem(a));var b=a.index;return b==g_selectedItemIndex?!0:(unselectSeletedItem(),g_selectedItem=a,g_selectedItemIndex=b,1==g_temp.isPlayMode&&t.resetPlaying(),void g_objGallery.trigger(t.events.ITEM_CHANGE,a))},this.nextItem=function(){var a=g_selectedItemIndex+1;return 0==g_numItems?!0:0==g_options.gallery_carousel&&a>=g_numItems?!0:(a>=g_numItems&&(a=0),void t.selectItem(a))},this.prevItem=function(){var a=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(a=0),0==g_numItems?!0:0==g_options.gallery_carousel&&0>a?!0:(0>a&&(a=g_numItems-1),void t.selectItem(a))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen?!0:1==g_functions.isFullScreen()?!0:!1},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){var a=g_objWrapper.get(0),b=g_functions.toFullscreen(a);0==b&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(a,b,c){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",a+"px"),b&&g_objWrapper.height(b),c||c===!0||onGalleryResized()},this.setSizeClass=function(a,b){if(!a)var a=g_objWrapper;if(!b)var c=t.getSize(),b=c.width;var d="";return 480>=b?d="ug-under-480":780>=b?d="ug-under-780":960>b&&(d="ug-under-960"),1==a.hasClass(d)?!0:(removeAllSizeClasses(a),void(""!=d&&a.addClass(d)))},this.isMobileMode=function(){return g_objWrapper.hasClass("ug-under-480")?!0:!1},this.run=function(a,b){g_options.gallery_debug_errors;if(b&&b.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=b.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(a,b)}catch(c){if("object"==typeof c){{var d=c,e=c.lineNumber,f=c.fileName;c.stack}d+=" <br><br> in file: "+f,d+=" <b> line "+e+"</b>",trace(c)}else var d=c;d=d.replace("Error:",""),showErrorMessage(d)}else runGallery(a,b)}}function UGGridPanel(){function a(a,c){B=a,b(),c&&c.vertical_scroll&&(F.gridpanel_vertical_scroll=c.vertical_scroll),F=jQuery.extend(F,c),1==I.isHorType?(F=jQuery.extend(F,H),F=jQuery.extend(F,c)):1==F.gridpanel_vertical_scroll&&(F=jQuery.extend(F,G),F=jQuery.extend(F,c),F.grid_panes_direction="bottom");var d=B.getOptions(),e=d.gallery_skin;""==F.gridpanel_arrows_skin&&(F.gridpanel_arrows_skin=e);var f=a.getObjects();v=f.g_objWrapper,E.init(B,I,z,F,A)}function b(){if(null==I.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function c(){b(),f(),D.run(),i(),j(),u(),k()}function d(){v.append("<div class='ug-grid-panel'></div>"),w=v.children(".ug-grid-panel"),I.isHorType?(w.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-left-hortype"),x=w.children(".grid-arrow-right-hortype")):0==F.gridpanel_vertical_scroll?(w.append("<div class='grid-arrow grid-arrow-left ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-right ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-left"),x=w.children(".grid-arrow-right")):(w.append("<div class='grid-arrow grid-arrow-up ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),w.append("<div class='grid-arrow grid-arrow-down ug-skin-"+F.gridpanel_arrows_skin+"'></div>"),y=w.children(".grid-arrow-up"),x=w.children(".grid-arrow-down")),E.setHtml(w),y.fadeTo(0,0),x.fadeTo(0,0),B.initThumbsPanel("grid",F);var a=B.getObjects();D=a.g_objThumbs,D.setHtml(w),e()}function e(){""!=F.gridpanel_background_color&&w.css("background-color",F.gridpanel_background_color)}function f(){"center"==F.gridpanel_grid_align&&(F.gridpanel_grid_align="middle")}function g(){var a=F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom,b=I.panelHeight-a;if(0==F.gridpanel_arrows_always_on){var c=D.getNumPanesEstimationByHeight(b);if(1==c)return b}var d=C.getElementSize(x),e=d.height,a=e+F.gridpanel_arrows_padding_vert;return 1==F.gridpanel_vertical_scroll&&(a*=2),a+=F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom,b=I.panelHeight-a}function h(){var a=F.gridpanel_padding_border_left+F.gridpanel_padding_border_right,b=I.panelWidth-a;if(0==F.gridpanel_arrows_always_on){var c=D.getNumPanesEstimationByWidth(b);if(1==c)return b}var d=C.getElementSize(x),e=d.width;return a+=2*(e+F.gridpanel_arrows_padding_hor),b=I.panelWidth-a}function i(){var a=!1;if(1==F.gridpanel_arrows_always_on)a=!0;else{var b=D.getNumPanes();b>1&&(a=!0)}1==a?(x.show().fadeTo(0,1),y.show().fadeTo(0,1),I.arrowsVisible=!0):(x.hide(),y.hide(),I.arrowsVisible=!1)}function j(){var a=D.getSize();1==I.isHorType?I.panelHeight=a.height+F.gridpanel_padding_border_top+F.gridpanel_padding_border_bottom:I.panelWidth=a.width+F.gridpanel_padding_border_left+F.gridpanel_padding_border_right,C.setElementSize(w,I.panelWidth,I.panelHeight)}function k(){return 1==I.isEventsInited?!1:(I.isEventsInited=!0,y&&(C.addClassOnHover(y),D.attachPrevPaneButton(y)),x&&(C.addClassOnHover(x),D.attachNextPaneButton(x)),void E.initEvents())}function l(){var a=F.gridpanel_padding_border_left;return a}function m(){var a=F.gridpanel_grid_align,b=0;switch(a){case"top":b=F.gridpanel_padding_border_top;break;case"bottom":b=F.gridpanel_padding_border_bottom}var c=l(),d=D.getElement();C.placeElement(d,c,a,0,b)}function n(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize();switch(F.gridpanel_grid_align){default:case"top":a=F.gridpanel_padding_border_top+e.height+F.gridpanel_arrows_padding_vert;break;case"middle":a="middle";break;case"bottom":a=I.panelHeight-f.height-e.height-F.gridpanel_padding_border_bottom-F.gridpanel_arrows_padding_vert}var g=l(),h=D.getElement();C.placeElement(h,g,a);var f=D.getSize();switch(F.gridpanel_arrows_align_vert){default:case"center":case"middle":b=(f.top-e.height)/2,c=f.bottom+(I.panelHeight-f.bottom-e.height)/2,d=0;break;case"grid":b=f.top-e.height-F.gridpanel_arrows_padding_vert_vert,c=f.bottom+F.gridpanel_arrows_padding_vert,d=0;break;case"border":case"borders":b=F.gridpanel_padding_border_top,c="bottom",d=F.gridpanel_padding_border_bottom}C.placeElement(y,"center",b),C.placeElement(x,"center",c,0,d)}function o(){1==I.arrowsVisible?n():m()}function p(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize(),g=F.gridpanel_padding_border_top;switch(F.gridpanel_grid_align){case"middle":switch(F.gridpanel_arrows_align_vert){default:var h=f.height+F.gridpanel_arrows_padding_vert+e.height;g=(I.panelHeight-h)/2;break;case"border":case"borders":var i=I.panelHeight-e.height-F.gridpanel_padding_border_bottom;g=(i-f.height)/2}break;case"bottom":var h=f.height+e.height+F.gridpanel_arrows_padding_vert;g=I.panelHeight-h-F.gridpanel_padding_border_bottom}var j=D.getElement(),k=l();C.placeElement(j,k,g);var f=D.getSize();switch(F.gridpanel_arrows_align_vert){default:case"center":case"middle":a=f.bottom+(I.panelHeight-f.bottom-e.height)/2,c=0;break;case"grid":a=f.bottom+F.gridpanel_arrows_padding_vert,c=0;break;case"border":case"borders":a="bottom",c=F.gridpanel_padding_border_bottom}b=-e.width/2-F.gridpanel_space_between_arrows/2,C.placeElement(y,"center",a,b,c);var d=Math.abs(b);C.placeElement(x,"center",a,d,c)}function q(){1==I.arrowsVisible?p():m()}function r(){var a,b,c,d,e=C.getElementSize(y),f=D.getSize();switch(F.gridpanel_grid_align){default:case"left":a=F.gridpanel_padding_border_left+F.gridpanel_arrows_padding_hor+e.width;break;case"middle":case"center":a="center";break;case"right":a=I.panelWidth-f.width-e.width-F.gridpanel_padding_border_right-F.gridpanel_arrows_padding_hor}var g=D.getElement();switch(C.placeElement(g,a,F.gridpanel_padding_border_top),f=D.getSize(),F.gridpanel_arrows_align_vert){default:case"center":case"middle":d=(f.height-e.height)/2+f.top;break;case"top":d=F.gridpanel_padding_border_top+F.gridpanel_arrows_padding_vert;break;case"bottom":d=I.panelHeight-F.gridpanel_padding_border_bottom-F.gridpanel_arrows_padding_vert-e.height}switch(F.gridpanel_arrows_align_hor){default:case"borders":b=F.gridpanel_padding_border_left,c=I.panelWidth-F.gridpanel_padding_border_right-e.width;break;case"grid":b=f.left-F.gridpanel_arrows_padding_hor-e.width,c=f.right+F.gridpanel_arrows_padding_hor;break;case"center":b=(f.left-e.width)/2,c=f.right+(I.panelWidth-f.right-e.width)/2}C.placeElement(y,b,d),C.placeElement(x,c,d)}function s(){var a,b=D.getSize();switch(F.gridpanel_grid_align){default:case"left":a=F.gridpanel_padding_border_left;break;case"middle":case"center":a="center";break;case"right":a=I.panelWidth-b.width-F.gridpanel_padding_border_right}var c=D.getElement();C.placeElement(c,a,F.gridpanel_padding_border_top)}function t(){1==I.arrowsVisible?r():s()}function u(){0==I.isHorType?1==F.gridpanel_vertical_scroll?o():q():t(),E.placeElements()}var v,w,x,y,z=this,A=jQuery(this),B=new UniteGalleryMain,C=new UGFunctions,D=new UGThumbsGrid,E=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var F={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},G={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},H={gridpanel_grid_align:"center"},I={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){y&&C.destroyButton(y),x&&C.destroyButton(x),E.destroy(),D.destroy()},this.getOrientation=function(){return I.orientation},this.setOrientation=function(a){switch(I.orientation=a,a){case"right":case"left":I.isHorType=!1;break;case"top":case"bottom":I.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+a)}},this.setHeight=function(a){if(1==I.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+I.orientation+"). Please use setWidth");I.panelHeight=a;var b=g();D.setMaxHeight(b)},this.setWidth=function(a){if(0==I.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+I.orientation+"). Please use setHeight");I.panelWidth=a;var b=h();D.setMaxWidth(b)},this.init=function(b,c){a(b,c)},this.setHtml=function(){d()},this.run=function(){c()},this.getElement=function(){return w},this.getSize=function(){var a=C.getElementSize(w);return a},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return E.isPanelClosed()},this.getClosedPanelDest=function(){return E.getClosedPanelDest()},this.openPanel=function(a){E.openPanel(a)},this.closePanel=function(a){E.closePanel(a)},this.setOpenedState=function(a){E.setOpenedState(a)},this.setClosedState=function(a){E.setClosedState(a)},this.setDisabledAtStart=function(a){E.setDisabledAtStart(a)}}function UGLightbox(){function a(a,c){$=a,R=jQuery(a),cb=jQuery.extend(cb,eb),cb=jQuery.extend(cb,c),db.originalOptions=jQuery.extend({},cb),"compact"==cb.lightbox_type&&(db.isCompact=!0,cb=jQuery.extend(cb,fb),cb=jQuery.extend(cb,c)),b(),1==db.putSlider?($.initSlider(cb,"lightbox"),g_objects=a.getObjects(),_=g_objects.g_objSlider):_=null,1==cb.lightbox_show_textpanel?bb.init($,cb,"lightbox"):bb=null}function b(){1==db.isCompact&&1==cb.lightbox_show_textpanel&&(cb.lightbox_slider_image_padding_bottom=db.initTextPanelHeight),1==db.isCompact&&"inside"==cb.lightbox_arrows_position&&(db.isArrowsInside=!0),1==db.isArrowsInside&&0==cb.lightbox_arrows_inside_alwayson&&(db.isArrowsOnHoverMode=!0)}function c(){var a="",b="";1==db.isCompact&&(b=" ug-lightbox-compact"),a+="<div class='ug-gallery-wrapper ug-lightbox"+b+"'>",a+="<div class='ug-lightbox-overlay'></div>",0==db.isCompact&&(a+="<div class='ug-lightbox-top-panel'>"),a+="<div class='ug-lightbox-button-close'></div>",cb.lightbox_show_numbers&&(a+="<div class='ug-lightbox-numbers'></div>"),0==db.isCompact&&(a+="</div>"),a+="<div class='ug-lightbox-arrow-left'></div>",a+="<div class='ug-lightbox-arrow-right'></div>",a+="</div>",S=jQuery(a),jQuery("body").append(S),_&&_.setHtml(S),T=S.children(".ug-lightbox-overlay"),0==db.isCompact&&(Y=S.children(".ug-lightbox-top-panel")),W=S.find(".ug-lightbox-button-close"),cb.lightbox_show_numbers&&(X=S.find(".ug-lightbox-numbers")),U=S.children(".ug-lightbox-arrow-left"),V=S.children(".ug-lightbox-arrow-right"),bb&&bb.appendHTML(Y?Y:S)}function d(){if(null!==cb.lightbox_overlay_color&&T.css("background-color",cb.lightbox_overlay_color),null!==cb.lightbox_overlay_opacity&&T.fadeTo(0,cb.lightbox_overlay_opacity),Y&&null!==cb.lightbox_top_panel_opacity&&Y.css("background-color","rgb(0,0,0,"+cb.lightbox_top_panel_opacity+")"),X){var a={};null!==cb.lightbox_numbers_size&&(a["font-size"]=cb.lightbox_numbers_size+"px"),cb.lightbox_numbers_color&&(a.color=cb.lightbox_numbers_color),null!==cb.lightbox_numbers_padding_right&&(a["padding-right"]=cb.lightbox_numbers_padding_right+"px"),null!==cb.lightbox_numbers_padding_top&&(a["padding-top"]=cb.lightbox_numbers_padding_top+"px"),X.css(a)}}function e(a){if(!_)return!0;var b={slider_image_padding_top:a,slider_video_padding_top:a};_.setOptions(b),_.refreshSlideItems()}function f(){if(!Y)return!1;if(!bb)return!1;var a=Y.height();
if(0==a)return!1;var b=a,c=bb.getSize().height;a!=db.topPanelHeight&&(b=db.topPanelHeight),c>b&&(b=c),a!=b&&(Y.height(b),_&&0==_.isAnimating()&&e(b))}function g(a){var b={},c=cb.lightbox_textpanel_width,d=47,e=40,g=a.width-d-e;c>g?(b.textpanel_padding_left=d,b.textpanel_padding_right=e,b.textpanel_title_text_align="center",b.textpanel_desc_text_align="center"):(b.textpanel_padding_left=Math.floor((a.width-c)/2),b.textpanel_padding_right=b.textpanel_padding_left,b.textpanel_title_text_align="left",b.textpanel_desc_text_align="left",cb.lightbox_textpanel_title_text_align&&(b.textpanel_title_text_align=cb.lightbox_textpanel_desc_text_align),cb.lightbox_textpanel_desc_text_align&&(b.textpanel_desc_text_align=cb.lightbox_textpanel_desc_text_align)),bb.setOptions(b),bb.refresh(!0,!0),f(),bb.positionPanel()}function h(a){if(0==db.isOpened)return!1;if(!bb)return!1;if(!_)return!1;var b=ab.getElementSize(S),c=bb.getSize();if(0==c.width||c.height>120)return!1;if(!a)var d=_.getSlideImage(),a=ab.getElementSize(d);if(0==a.height||0==a.width)return!1;var e=a.bottom+c.height;if(e<b.height)return!1;var f=_.getOptions(),g=c.height;if(g!=f.slider_image_padding_bottom){var h={slider_image_padding_bottom:g};if(0==_.isAnimating())return _.setOptions(h),_.refreshSlideItems(),!0}return!1}function i(a,b){if(!a)var c=_.getSlideImage(),a=ab.getElementSize(c);db.textPanelTop=a.bottom,b===!0&&bb.positionPanel(db.textPanelTop,db.textPanelLeft)}function j(a){var b=(ab.getElementSize(S),_.getSlideImage()),c=ab.getElementSize(b);if(0==c.width)return!1;db.textPanelLeft=c.left,db.textPanelTop=c.bottom;var d=c.width;if(X){var e=ab.getElementSize(X);d-=e.width;var f=c.right-e.width;ab.placeElement(X,f,db.textPanelTop)}bb&&(bb.refresh(!0,!0,d),i(c));var g=h(c);0==g&&(db.positionFrom="handleCompactTextpanelSizes",bb&&(bb.positionPanel(db.textPanelTop,db.textPanelLeft),a===!0&&(a(),z())))}function k(){if(0==_.isCurrentSlideType("image"))return!0;var a=1==_.isCurrentImageInPlace();return a}function l(a,b){if(0==db.isArrowsInside)return!1;if(!U)return!1;var c=k();if(U.show(),V.show(),db.positionFrom="positionArrowsInside",1==db.isArrowsOnHoverMode&&1==c&&0==r()&&s(!0),0==c)var d=ab.getElementRelativePos(U,"left",cb.lightbox_arrows_offset),e=ab.getElementRelativePos(U,"middle"),f=ab.getElementRelativePos(V,"right",cb.lightbox_arrows_offset),g=e;else var h=_.getSlideImage(),i=ab.getElementSize(h),d=(ab.getElementSize(_.getElement()),ab.getElementRelativePos(U,"left",0,h)+i.left+cb.lightbox_arrows_inside_offset),e=ab.getElementRelativePos(U,"middle",0,h)+i.top,f=ab.getElementRelativePos(U,"right",0,h)+i.left-cb.lightbox_arrows_inside_offset,g=e;if(b===!0){var j={left:d,top:e},l={left:f,top:g};U.stop().animate(j,{duration:db.fadeDuration}),V.stop().animate(l,{duration:db.fadeDuration})}else U.stop(),V.stop(),ab.placeElement(U,d,e),ab.placeElement(V,f,g);1==a&&u(b)}function m(a,b){db.positionFrom=null;var c=k(),d=2,e=ab.getElementRelativePos(W,"right",2,S);if(0==c)var f=d,g=e;else{var h=_.getSlideImage(),i=ab.getElementSize(h),j=ab.getElementSize(_.getElement()),l=ab.getElementSize(W);j.top==j.height&&(j.top=0);var g=j.left+i.right-l.width/2+cb.lightbox_compact_closebutton_offsetx,f=j.top+i.top-l.height/2-cb.lightbox_compact_closebutton_offsety;d>f&&(f=d),g>e&&(g=e)}if(b===!0){var m={left:g,top:f};W.stop().animate(m,{duration:db.fadeDuration})}else W.stop(),ab.placeElement(W,g,f);a===!0&&v(b)}function n(){W&&W.stop().fadeTo(db.fadeDuration,0),p(),q(),db.positionFrom="hideCompactElements",1==db.isArrowsInside&&s()}function o(){var a=ab.getElementSize(S);Y&&ab.setElementSizeAndPosition(Y,0,0,a.width,db.topPanelHeight),U&&0==db.isArrowsInside&&(1==cb.lightbox_hide_arrows_onvideoplay&&(U.show(),V.show()),ab.placeElement(U,"left","middle",cb.lightbox_arrows_offset),ab.placeElement(V,"right","middle",cb.lightbox_arrows_offset)),0==db.isCompact&&ab.placeElement(W,"right","top",2,2),bb&&(db.positionFrom="positionElements",0==db.isCompact?g(a):(y(),z()));var b=a.width,c=a.height,d=0,e=0;if(_){if(Y){var f=Y.height(),h={slider_image_padding_top:f,slider_video_padding_top:f};_.setOptions(h)}_.setSize(b,c),_.setPosition(e,d)}}function p(){bb&&bb.getElement().stop().fadeTo(db.fadeDuration,0)}function q(){X&&X.stop().fadeTo(db.fadeDuration,0)}function r(){if(!db.lastMouseX)return!0;var a={pageX:db.lastMouseX,pageY:db.lastMouseY},b=_.isMouseInsideSlideImage(a);return b}function s(a,b){return U?1==db.isArrowsOnHoverMode&&b===!1?(1==r(),!0):void(a===!0?(U.stop().fadeTo(0,0),V.stop().fadeTo(0,0)):(U.stop().fadeTo(db.fadeDuration,0),V.stop().fadeTo(db.fadeDuration,0))):!1}function t(){if(!U)return!0;if(0==U.is(":visible"))return!0;var a=U.css("opacity");return 1!=a?!0:!1}function u(a,b){return U?1==db.isArrowsOnHoverMode&&b!==!0&&1==k()?!0:1==_.isSwiping()?!0:(a!==!0&&(U.stop(),V.stop()),U.fadeTo(db.fadeDuration,1),void V.fadeTo(db.fadeDuration,1)):!1}function v(a){a!==!0&&W.stop(),W.fadeTo(db.fadeDuration,1)}function w(a){if(!bb)return!1;if(!a)var a=_.getCurrentItem();bb.setTextPlain(a.title,a.description)}function x(a){if(!X)return!1;if(!a)var a=_.getCurrentItem();var b=$.getNumItems(),c=a.index+1;X.html(c+" / "+b)}function y(){return bb?void bb.getElement().show().stop().fadeTo(db.fadeDuration,1):!1}function z(){X&&X.stop().fadeTo(db.fadeDuration,1)}function A(){return 0==db.isCompact?!0:void n()}function B(){if(0==db.isCompact)return!0;if(db.positionFrom="onZoomChange",m(!1,!0),l(!1,!0),1==db.isCompact){var a=_.isCurrentSlideType("image")&&1==_.isCurrentImageInPlace();0==a?(p(),q()):(db.positionFrom="onZoomChange",y(),z())}}function C(){if(0==db.isCompact)return!0;db.positionFrom="onSliderAfterReturn",m(!0),l(!0);var a=h();0==a&&j(),y(),z()}function D(a,b){return b=jQuery(b),0==db.isCompact?!0:0==_.isSlideCurrent(b)?!0:(db.positionFrom="onSliderAfterPutImage",m(!0),l(!0),void j())}function E(){var a=_.getOptions(),b=a.slider_image_padding_top;if(Y){var c=Y.height();c!=b&&e(c)}if(1==db.isCompact&&(w(),x(),db.positionFrom="onSliderTransitionEnd",m(!0),l(!0),0==_.isSlideActionActive())){var d=h();0==d&&j(),y(),z()}}function F(a,b){0==db.isCompact?(X&&x(b),bb&&(w(b),bb.positionElements(!1),f(),bb.positionPanel())):0==_.isAnimating()&&(bb&&w(b),X&&x(b))}function G(a,b){var c=_.getSlideType();if("image"!=c&&0==db.isCompact&&_.isSlideActionActive())return!0;var d=_.isPreloading();if(1==d)return Z.close("slider"),!0;var e=_.isMouseInsideSlideImage(b);0==e&&Z.close("slider_inside")}function H(){o()}function I(){U&&1==cb.lightbox_hide_arrows_onvideoplay&&(U.hide(),V.hide())}function J(){U&&1==cb.lightbox_hide_arrows_onvideoplay&&(U.show(),V.show())}function K(a,b){switch(b){case 27:1==db.isOpened&&Z.close("keypress")}}function L(){1==db.isArrowsOnHoverMode&&u(!1,!0)}function M(){db.positionFrom="hideCompactElements",1==db.isArrowsOnHoverMode&&1==k()&&s(!1,!0)}function N(a){db.lastMouseX=a.pageX,db.lastMouseY=a.pageY;var b=t();1==b&&r()&&0==_.isAnimating()&&(db.positionFrom="onMouseMove",U&&0==U.is(":animated")&&u(!1,!0))}function O(){if(T.on("touchstart",function(a){a.preventDefault()}),T.on("touchend",function(){Z.close("overlay")}),ab.addClassOnHover(V,"ug-arrow-hover"),ab.addClassOnHover(U,"ug-arrow-hover"),ab.addClassOnHover(W),$.setNextButton(V),$.setPrevButton(U),W.click(function(){Z.close("button")}),R.on($.events.ITEM_CHANGE,F),_){jQuery(_).on(_.events.TRANSITION_END,E),jQuery(_).on(_.events.CLICK,G);var a=_.getVideoObject();jQuery(a).on(a.events.PLAY_START,I),jQuery(a).on(a.events.PLAY_STOP,J),jQuery(_).on(_.events.START_DRAG,A),jQuery(_).on(_.events.TRANSITION_START,A),jQuery(_).on(_.events.AFTER_DRAG_CHANGE,C),jQuery(_).on(_.events.AFTER_RETURN,C),jQuery(_).on(_.events.AFTER_PUT_IMAGE,D),jQuery(_).on(_.events.ZOOM_CHANGE,B),jQuery(_).on(_.events.IMAGE_MOUSEENTER,L),jQuery(_).on(_.events.IMAGE_MOUSELEAVE,M)}jQuery(window).resize(function(){return 0==db.isOpened?!0:void ab.whenContiniousEventOver("lightbox_resize",H,100)}),R.on($.events.GALLERY_KEYPRESS,K),1==db.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",N),S.on("mousewheel",function(a){var b=_.getSlideType();"image"!=b&&"advance"!=cb.gallery_mousewheel_role&&a.preventDefault()})}function P(){W&&W.hide(),U&&1==db.isArrowsInside&&(U.hide(),V.hide()),X&&X.hide(),bb&&bb.hide()}function Q(){db.isCompact=!1,b(),cb=jQuery.extend({},db.originalOptions),trace(cb),_.setOptions(cb)}var R,S,T,U,V,W,X,Y,Z=this,$=(jQuery(this),new UniteGalleryMain),_=new UGSlider,ab=new UGFunctions,bb=new UGTextPanel,cb={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1};this.events={};var db={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null},eb={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_image_padding_top:db.topPanelHeight,lightbox_slider_image_padding_bottom:10,lightbox_slider_video_padding_top:db.topPanelHeight,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1},fb={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),T.off("touchstart"),T.off("touchend"),W.off("click"),R.off($.events.ITEM_CHANGE),_){jQuery(_).off(_.events.TRANSITION_END),jQuery(_).off(_.events.CLICK),jQuery(_).off(_.events.START_DRAG),jQuery(_).off(_.events.TRANSITION_START),jQuery(_).off(_.events.AFTER_DRAG_CHANGE),jQuery(_).off(_.events.AFTER_RETURN);var a=_.getVideoObject();jQuery(a).off(a.events.PLAY_START),jQuery(a).off(a.events.PLAY_STOP),jQuery(_).on(_.events.IMAGE_MOUSEENTER,L),jQuery(_).on(_.events.IMAGE_MOUSELEAVE,M),_.destroy()}jQuery(window).unbind("resize"),R.off($.events.GALLERY_KEYPRESS,K),S.off("mousewheel")},this.open=function(a){var b=$.getItem(a);if(db.isOpened=!0,_&&_.setItem(b,"fade"),bb&&bb.setTextPlain(b.title,b.description),T.stop().fadeTo(0,0),S.show(),S.fadeTo(0,1),T.stop().fadeTo(db.fadeDuration,cb.lightbox_overlay_opacity),o(),1==db.isCompact){var c=_.isPreloading();1==c?P():1==db.isArrowsInside&&(U.hide(),V.hide())}_&&_.startSlideAction()},this.close=function(){db.isOpened=!1,1==db.isCompact&&n(),_&&_.stopSlideAction();var a=_.getSlideType();"image"!=a?S.hide():S.fadeTo(db.fadeDuration,0,function(){S.hide()})},this.init=function(b,c){a(b,c)},this.putHtml=function(){var a=$.isMobileMode();a&&1==db.isCompact&&Q(),c()},this.run=function(){d(),_&&_.run(),O()}}function UGPanelsBase(){function a(a,b){switch(d.orientation){case"right":case"left":var c={left:a+"px"};break;case"top":case"bottom":var c={top:a+"px"}}f.stop(!0).animate(c,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){b&&b()}})}function b(a){switch(d.orientation){case"right":case"left":m.placeElement(f,a,null);break;case"top":case"bottom":m.placeElement(f,null,a)}}function c(){h.trigger(e.events.FINISH_MOVE)}var d,e,f,g,h,i,j,k=new UniteGalleryMain,l=this,m=new UGFunctions;this.init=function(a,b,c,f,i){d=b,e=c,k=a,g=f,h=i,j=jQuery(k)},this.setHtml=function(a){if(f=a,"strip"==d.panelType)var b=g.strippanel_enable_handle;else var b=g.gridpanel_enable_handle;if(1==b&&(i=new UGPanelHandle,i.init(e,f,g,d.panelType,k),i.setHtml()),d.isDisabledAtStart===!0){var c="<div class='ug-panel-disabled-overlay'></div>";f.append(c),setTimeout(function(){f.children(".ug-panel-disabled-overlay").hide()},d.disabledAtStartTimeout)}},this.placeElements=function(){i&&i.placeHandle()},this.initEvents=function(){i&&(i.initEvents(),j.on(k.events.SLIDER_ACTION_START,function(){i.hideHandle()}),j.on(k.events.SLIDER_ACTION_END,function(){i.showHandle()}))},this.destroy=function(){i&&(i.destroy(),j.off(k.events.SLIDER_ACTION_START),j.off(k.events.SLIDER_ACTION_END))},this.openPanel=function(g){if(!g)var g=!1;return f.is(":animated")?!1:0==d.isClosed?!1:(d.isClosed=!1,h.trigger(e.events.OPEN_PANEL),void(g===!1?a(d.originalPos,c):(b(d.originalPos),c())))},this.closePanel=function(g){if(!g)var g=!1;if(f.is(":animated"))return!1;if(1==d.isClosed)return!1;var i=l.getClosedPanelDest();d.isClosed=!0,h.trigger(e.events.CLOSE_PANEL),g===!1?a(i,c):(b(i),c())},this.setClosedState=function(a){d.originalPos=a,h.trigger(e.events.CLOSE_PANEL),d.isClosed=!0},this.setOpenedState=function(){h.trigger(e.events.OPEN_PANEL),d.isClosed=!1},this.getClosedPanelDest=function(){var a,b=m.getElementSize(f);switch(d.orientation){case"left":d.originalPos=b.left,a=-d.panelWidth;break;case"right":d.originalPos=b.left;var c=k.getSize();a=c.width;break;case"top":d.originalPos=b.top,a=-d.panelHeight;break;case"bottom":d.originalPos=b.top;var c=k.getSize();a=c.height}return a},this.isPanelClosed=function(){return d.isClosed},this.setDisabledAtStart=function(a){return 0>=a?!1:(d.isDisabledAtStart=!0,void(d.disabledAtStartTimeout=a))}}function UGPanelHandle(){function a(){h.removeClass("ug-button-hover")}function b(){h.addClass("ug-button-closed")}function c(){h.removeClass("ug-button-closed")}function d(a){return a.stopPropagation(),a.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(a.type)?!0:void(g.isPanelClosed()?g.openPanel():g.closePanel())}function e(){var a=g.getOrientation();switch(a){case"right":case"left":"top"!=j.panel_handle_align&&"bottom"!=j.panel_handle_align&&(j.panel_handle_align="top");break;case"bottom":"left"!=j.panel_handle_align&&"right"!=j.panel_handle_align&&(j.panel_handle_align="left");break;case"top":"left"!=j.panel_handle_align&&"right"!=j.panel_handle_align&&(j.panel_handle_align="right")}}var f,g,h,i=new UGFunctions,j={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(a,b,c,d,e){switch(g=a,f=b,d){case"grid":j.panel_handle_align=c.gridpanel_handle_align,j.panel_handle_offset=c.gridpanel_handle_offset,j.panel_handle_skin=c.gridpanel_handle_skin;break;case"strip":j.panel_handle_align=c.strippanel_handle_align,j.panel_handle_offset=c.strippanel_handle_offset,j.panel_handle_skin=c.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+d)}var h=e.getOptions(),i=h.gallery_skin;""==j.panel_handle_skin&&(j.panel_handle_skin=i)},this.setHtml=function(){var a=g.getOrientation(),b="ug-panel-handle-tip";switch(a){case"right":b+=" ug-handle-tip-left";break;case"left":b+=" ug-handle-tip-right";break;case"bottom":b+=" ug-handle-tip-top";break;case"top":b+=" ug-handle-tip-bottom"}f.append("<div class='"+b+" ug-skin-"+j.panel_handle_skin+"'></div>"),h=f.children(".ug-panel-handle-tip")},this.initEvents=function(){i.addClassOnHover(h),h.bind("click touchstart",d),jQuery(g).on(g.events.OPEN_PANEL,function(){a(),c()}),jQuery(g).on(g.events.CLOSE_PANEL,function(){a(),b()})},this.destroy=function(){i.destroyButton(h),jQuery(g).off(g.events.OPEN_PANEL),jQuery(g).off(g.events.CLOSE_PANEL)},this.placeHandle=function(){var a=i.getElementSize(h);e();var b=g.getOrientation();switch(b){case"left":i.placeElement(h,"right",j.panel_handle_align,-a.width);break;case"right":i.placeElement(h,-a.width,j.panel_handle_align,0,j.panel_handle_offset);break;case"top":i.placeElement(h,j.panel_handle_align,"bottom",j.panel_handle_offset,-a.height);break;case"bottom":i.placeElement(h,j.panel_handle_align,"top",j.panel_handle_offset,-a.height);break;default:throw new Error("Wrong panel orientation: "+b)}},this.hideHandle=function(){1==h.is(":visible")&&h.hide()},this.showHandle=function(){0==h.is(":visible")&&h.show()}}function UGSlider(){function a(a,b,d){pb=a,d&&(mb=d,b=ub.convertCustomPrefixOptions(b,mb,"slider")),_=jQuery(a);var e=pb.getObjects();if(ab=e.g_objWrapper,bb=e.g_objThumbs,b.hasOwnProperty("slider_progress_indicator_type")&&(xb.slider_progress_indicator_type=b.slider_progress_indicator_type),"bar"==xb.slider_progress_indicator_type&&(xb=jQuery.extend(xb,yb)),b&&nb.setOptions(b),c(),1==xb.slider_enable_bullets){sb=new UGBullets;var f={bullets_skin:xb.slider_bullets_skin,bullets_space_between:xb.slider_bullets_space_between};sb.init(pb,f)}xb.slider_enable_text_panel&&(wb=new UGTextPanel,wb.init(pb,xb,"slider")),xb.slider_enable_zoom_panel&&(lb=new UGZoomButtonsPanel,lb.init(nb,xb));var g=pb.getGalleryID();tb.init(xb,!1,g)}function b(){if(1==zb.isRunOnce)return!1;if(zb.isRunOnce=!0,xb.slider_background_color){var a=xb.slider_background_color;1!=xb.slider_background_opacity&&(a=ub.convertHexToRGB(a,xb.slider_background_opacity)),cb.css("background-color",a)}else 1!=xb.slider_background_opacity&&(a=ub.convertHexToRGB("#000000",xb.slider_background_opacity),cb.css("background-color",a));1==xb.slider_control_swipe&&(jb=new UGTouchSliderControl,jb.init(nb,xb)),1==xb.slider_control_zoom&&(kb=new UGZoomSliderControl,kb.init(nb,xb)),wb&&wb.run(),U()}function c(){var a=pb.getOptions(),b=a.gallery_skin;""==xb.slider_bullets_skin&&(xb.slider_bullets_skin=b),""==xb.slider_arrows_skin&&(xb.slider_arrows_skin=b),""==xb.slider_zoompanel_skin&&(xb.slider_zoompanel_skin=b),""==xb.slider_play_button_skin&&(xb.slider_play_button_skin=b),""==xb.slider_fullscreen_button_skin&&(xb.slider_fullscreen_button_skin=b),xb.video_enable_closebutton=xb.slider_video_enable_closebutton,"zoom"!=a.gallery_mousewheel_role&&(xb.slider_zoom_mousewheel=!1)}function d(a,b){var c="ug-type-square";return"round"==xb.slider_videoplay_button_type&&(c="ug-type-round"),html="",html+="<div class='ug-slide-wrapper ug-slide"+b+"'>",html+="<div class='ug-item-wrapper'></div>",html+="<div class='ug-slider-preloader "+a+"'></div>",html+="<div class='ug-button-videoplay "+c+"' style='display:none'></div>",html+="</div>",html}function e(a){a&&(ab=a);var b=V(),c=(pb.getOptions(),"<div class='ug-slider-wrapper'>");if(c+="<div class='ug-slider-inner'>",c+=d(b,1),c+=d(b,2),c+=d(b,3),c+="</div>",1==xb.slider_enable_arrows&&(c+="<div class='ug-slider-control ug-arrow-left ug-skin-"+xb.slider_arrows_skin+"'></div>",c+="<div class='ug-slider-control ug-arrow-right ug-skin-"+xb.slider_arrows_skin+"'></div>"),1==xb.slider_enable_play_button&&(c+="<div class='ug-slider-control ug-button-play ug-skin-"+xb.slider_play_button_skin+"'></div>"),1==xb.slider_enable_fullscreen_button&&(c+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+xb.slider_fullscreen_button_skin+"'></div>"),c+="</div>",ab.append(c),cb=ab.children(".ug-slider-wrapper"),db=cb.children(".ug-slider-inner"),eb=db.children(".ug-slide1"),fb=db.children(".ug-slide2"),gb=db.children(".ug-slide3"),eb.data("slidenum",1),fb.data("slidenum",2),gb.data("slidenum",3),sb&&sb.appendHTML(cb),1==xb.slider_enable_arrows&&(hb=cb.children(".ug-arrow-left"),ib=cb.children(".ug-arrow-right")),1==xb.slider_enable_play_button&&(qb=cb.children(".ug-button-play")),1==xb.slider_enable_fullscreen_button&&(rb=cb.children(".ug-button-fullscreen")),1==xb.slider_enable_progress_indicator){vb=ub.initProgressIndicator(xb.slider_progress_indicator_type,xb,cb);var e=vb.getType();"bar"==e&&"pie"==xb.slider_progress_indicator_type&&(xb.slider_progress_indicator_type="bar",xb=jQuery.extend(xb,yb)),pb.setProgressIndicator(vb)}if(1==xb.slider_enable_text_panel)if(0==xb.slider_textpanel_always_on&&0==xb.slider_controls_always_on)wb.appendHTML(cb);else if(wb.appendHTML(cb),0==xb.slider_textpanel_always_on){var f=wb.getElement();f.hide().data("isHidden",!0),zb.isTextPanelSaparateHover=!0}1==xb.slider_enable_zoom_panel&&lb.appendHTML(cb),tb.setHtml(cb)}function f(a){var b=Y(a);ub.placeElementInParentCenter(b);var c=Z(a);ub.placeElementInParentCenter(c)}function g(){if(sb&&(objBullets=sb.getElement(),ub.placeElement(objBullets,xb.slider_bullets_align_hor,xb.slider_bullets_align_vert,xb.slider_bullets_offset_hor,xb.slider_bullets_offset_vert)),1==xb.slider_enable_arrows&&(ub.placeElement(hb,xb.slider_arrow_left_align_hor,xb.slider_arrow_left_align_vert,xb.slider_arrow_left_offset_hor,xb.slider_arrow_left_offset_vert),ub.placeElement(ib,xb.slider_arrow_right_align_hor,xb.slider_arrow_left_align_vert,xb.slider_arrow_right_offset_hor,xb.slider_arrow_right_offset_vert)),0==xb.slider_controls_always_on&&D(!0),vb){var a=vb.getElement();if("bar"==xb.slider_progress_indicator_type){var b=cb.width();vb.setSize(b),ub.placeElement(a,"left",xb.slider_progress_indicator_align_vert,0,xb.slider_progress_indicator_offset_vert)}else ub.placeElement(a,xb.slider_progress_indicator_align_hor,xb.slider_progress_indicator_align_vert,xb.slider_progress_indicator_offset_hor,xb.slider_progress_indicator_offset_vert)}wb&&wb.positionPanel(),h(),f(eb),f(fb),f(gb),B()}function h(){if(qb&&ub.placeElement(qb,xb.slider_play_button_align_hor,xb.slider_play_button_align_vert,xb.slider_play_button_offset_hor,xb.slider_play_button_offset_vert),rb&&ub.placeElement(rb,xb.slider_fullscreen_button_align_hor,xb.slider_fullscreen_button_align_vert,xb.slider_fullscreen_button_offset_hor,xb.slider_fullscreen_button_offset_vert),lb){var a=lb.getElement();ub.placeElement(a,xb.slider_zoompanel_align_hor,xb.slider_zoompanel_align_vert,xb.slider_zoompanel_offset_hor,xb.slider_zoompanel_offset_vert)}}function i(a,b,c){c?a.fadeTo(xb.slider_transition_speed,b,c):a.fadeTo(xb.slider_transition_speed,b)}function j(){var a,b,c,d,e=nb.getSlidesReference(),f=0,g=0,h=0;c=nb.isSlideHasItem(e.objNextSlide),d=nb.isSlideHasItem(e.objPrevSlide),d?(h=e.objPrevSlide.outerWidth(),e.objPrevSlide.css("z-index",1)):e.objPrevSlide.hide(),b=h+e.objCurrentSlide.outerWidth(),a=b,c?(a=b+e.objNextSlide.outerWidth(),e.objPrevSlide.css("z-index",2)):e.objNextSlide.hide(),e.objCurrentSlide.css("z-index",3),ub.placeElement(e.objCurrentSlide,h,f),db.css({left:-h+"px",width:a+"px"}),d&&(ub.placeElement(e.objPrevSlide,g,f),ub.showElement(e.objPrevSlide)),c&&(ub.showElement(e.objNextSlide),ub.placeElement(e.objNextSlide,b,f))}function k(a,b,c){ob.trigger(nb.events.TRANSITION_START);var d=xb.slider_transition;switch(c&&(d=c),d){default:case"fade":m(b);break;case"slide":l(a,b);break;case"lightbox_open":m(b,!0)}}function l(a,b){var c=nb.isAnimating();if(1==c)return zb.itemWaiting=b,!0;null!=zb.itemWaiting&&(zb.itemWaiting=null);var d=nb.getSlidesReference();switch(a){case"right":u(d.objPrevSlide,b),j();var e=ub.getElementSize(d.objPrevSlide),f=-e.left;nb.switchSlideNums("right");break;case"left":u(d.objNextSlide,b),j();var g=ub.getElementSize(d.objNextSlide),f=-g.left;nb.switchSlideNums("left");break;default:throw new Error("wrong direction: "+a)}var h=xb.slider_transition_speed,i=xb.slider_transition_easing;db.animate({left:f+"px"},{duration:h,easing:i,queue:!1,always:function(){if(null!=zb.itemWaiting){var a=X(zb.itemWaiting);l(a,zb.itemWaiting)}else nb.placeNabourItems(),ob.trigger(nb.events.TRANSITION_END)}})}function m(a,b){if(!b)var b=!1;var c=nb.getSlidesReference();u(c.objNextSlide,a);var d=ub.getElementSize(c.objCurrentSlide);ub.placeElement(c.objNextSlide,d.left,d.top);var e=zb.numCurrent;zb.numCurrent=zb.numNext,zb.numNext=e,ob.trigger(nb.events.ITEM_CHANGED),c.objNextSlide.stop(!0),c.objCurrentSlide.stop(!0),1==b?(c.objCurrentSlide.fadeTo(0,0),c.objNextSlide.fadeTo(0,1),nb.placeNabourItems()):(c.objNextSlide.fadeTo(0,0),i(c.objCurrentSlide,0,function(){nb.placeNabourItems(),ob.trigger(nb.events.TRANSITION_END)}),i(c.objNextSlide,1))}function n(a){var b=a.data("index");if(void 0===b||null==b)return!1;var c=pb.getItem(b);return c?void u(a,c):!1}function o(a){a.stop(!0).show(100)}function p(a){a.stop(!0).hide(100)}function q(){var a=xb.slider_video_constantsize_width,b=xb.slider_video_constantsize_height;tb.setSize(a,b),tb.setPosition("center","middle");var c=tb.getObject();r(c)}function r(a,b){var c={};1==xb.slider_image_border&&(c["border-style"]="solid",c["border-width"]=xb.slider_image_border_width+"px",c["border-color"]=xb.slider_image_border_color,c["border-radius"]=xb.slider_image_border_radius),"image"!=b&&1==xb.slider_video_constantsize&&(c["background-color"]="#000000"),1==xb.slider_image_shadow&&(c["box-shadow"]="3px 3px 10px 0px #353535"),a.css(c)}function s(a,b){var c=xb.slider_video_constantsize_width,d=xb.slider_video_constantsize_height,e=xb.slider_video_constantsize_scalemode;ub.scaleImageExactSizeInParent(a,b.imageWidth,b.imageHeight,c,d,e)}function t(a,b,c){var d=a.children(".ug-item-wrapper"),e=Y(a),f=b.urlImage,g=a.data("urlImage");a.data("urlImage",f);var h=nb.getScaleMode(a),i=nb.getSlideType(a);if(objPadding=nb.getObjImagePadding(),g==f&&c!==!0){var j=d.children("img");(0==b.imageWidth||0==b.imageHeight)&&pb.checkFillImageSize(j,b),"image"!=i&&1==xb.slider_video_constantsize?s(j,b):ub.scaleImageFitParent(j,b.imageWidth,b.imageHeight,h,objPadding),ob.trigger(nb.events.AFTER_PUT_IMAGE,a)}else j=ub.placeImageInsideParent(f,d,b.imageWidth,b.imageHeight,h,objPadding),1==b.isBigImageLoaded?(j.fadeTo(0,1),p(e),"image"!=i&&1==xb.slider_video_constantsize&&s(j,b),ob.trigger(nb.events.AFTER_PUT_IMAGE,a)):(j.fadeTo(0,0),o(e),j.data("itemIndex",b.index),j.on("load",function(){var a=jQuery(this),b=a.data("itemIndex");a.fadeTo(0,1);var c=a.parent().parent(),d=nb.getSlideType(c),e=Y(c),f=nb.getObjImagePadding(),g=nb.getScaleMode(c);p(e),pb.onItemBigImageLoaded(null,a);var h=pb.getItem(b);"image"!=d&&1==xb.slider_video_constantsize?s(a,h):ub.scaleImageFitParent(a,h.imageWidth,h.imageHeight,g,f),a.fadeTo(0,1),ob.trigger(nb.events.AFTER_PUT_IMAGE,c)}));j&&r(j,i)}function u(a,b){try{var c=a.children(".ug-item-wrapper");if(null==b)return c.html(""),a.removeData("index"),a.removeData("type"),a.removeData("urlImage"),!1;{a.data("index")}a.data("index",b.index),a.data("type",b.type),t(a,b);var d=Z(a);switch(b.type){case"image":d.hide();break;default:d.show()}}catch(e){throw c.html(""),new Error(e)}}function v(){if(!wb)return!1;if(1==x())return!1;var a=wb.getElement(),b=0;(1==zb.isTextPanelSaparateHover||1==xb.slider_textpanel_always_on)&&(b=xb.slider_controls_appear_duration),a.stop().fadeTo(b,0),a.data("isHidden",!0)}function w(){if(!wb)return!1;if(0==x())return!1;var a=wb.getElement(),b=0;(1==zb.isTextPanelSaparateHover||1==xb.slider_textpanel_always_on)&&(a.show(),wb.positionElements(),b=xb.slider_controls_appear_duration),a.stop().show().fadeTo(b,1),a.data("isHidden",!1)}function x(){var a=wb.getElement(),b=a.data("isHidden");return b===!1?!1:!0}function y(a,b){if(void 0==b)var b=nb.getCurrentSlide();var c=nb.getSlideType(b);if(c!=a)throw new Error("Wrong slide type: "+c+", should be: "+a);return!0}function z(){1==xb.slider_fullscreen_button_mobilehide&&rb&&rb.hide(),1==xb.slider_play_button_mobilehide&&qb&&qb.hide(),1==xb.slider_zoompanel_mobilehide&&lb&&lb.getElement().hide()}function A(){1==xb.slider_fullscreen_button_mobilehide&&rb&&rb.show(),1==xb.slider_play_button_mobilehide&&qb&&qb.show(),1==xb.slider_zoompanel_mobilehide&&lb&&lb.getElement().show()}function B(){var a=pb.isMobileMode();a?z():A()}function C(){var a=cb.children(".ug-slider-control");return a}function D(a){if(0==ub.isTimePassed("sliderControlsToggle"))return!1;if(0==zb.isControlsVisible)return!1;if(!a)var a=!1;var b=C();a===!0?b.stop().hide():b.stop().hide(300),zb.isControlsVisible=!1}function E(a){if(0==ub.isTimePassed("sliderControlsToggle"))return!1;if(1==zb.isControlsVisible)return!0;if(!a)var a=!1;var b=C();a===!0?b.stop().show():b.stop().show(xb.slider_controls_appear_duration),zb.isControlsVisible=!0}function F(){0==zb.isControlsVisible?E():D()}function G(a){if(a==zb.currentControlsMode)return!1;switch(a){case"image":lb&&lb.getElement().show();break;case"video":lb&&lb.getElement().hide();break;default:throw new Error("wrong controld mode: "+a)}zb.currentControlsMode=a}function H(){var a=pb.getSelectedItem();nb.setItem(a);var b=a.index;sb&&sb.setActive(b),wb&&0==zb.isTextPanelSaparateHover&&w(),G("image"==a.type?"image":"video")}function I(a,b){pb.selectItem(b)}function J(a){jb&&1!=jb.isTapEventOccured(a)||(ob.trigger(nb.events.CLICK,a),0==xb.slider_controls_always_on&&1==xb.slider_controls_appear_ontap&&0==nb.isCurrentSlideType("image")&&(F(),wb&&1==xb.slider_textpanel_always_on&&nb.isCurrentSlideType("image")&&nb.isCurrentSlideImageFit()&&w()))}function K(){wb&&nb.isCurrentSlideType("image")&&0==nb.isCurrentSlideImageFit()&&v()}function L(){E()}function M(){D()}function N(){tb.hide()}function O(a){var b=a.parent();nb.startSlideAction(b)}function P(){pb.isPlayMode()&&pb.pausePlaying(),ob.trigger(nb.events.ACTION_START)}function Q(){pb.isPlayMode()&&pb.continuePlaying(),ob.trigger(nb.events.ACTION_END)}function R(a,b){eb.data("index")==b&&(objItem=pb.getItem(b),t(eb,objItem,!0)),fb.data("index")==b&&(objItem=pb.getItem(b),t(fb,objItem,!0)),gb.data("index")==b&&(objItem=pb.getItem(b),t(gb,objItem,!0))}function S(a,b){b=jQuery(b);var c=nb.getSlideImage(b),d=Z(b),e=ub.getElementSize(c);ub.placeElement(d,"center","middle",e.left,e.top,c)}function T(a){var b=Z(a);ub.addClassOnHover(b),ub.setButtonOnClick(b,O)}function U(){_.on(pb.events.ITEM_IMAGE_UPDATED,R),_.on(pb.events.ITEM_CHANGE,H),sb&&jQuery(sb).on(sb.events.BULLET_CLICK,I),1==xb.slider_enable_arrows&&(ub.addClassOnHover(ib,"ug-arrow-hover"),ub.addClassOnHover(hb,"ug-arrow-hover"),pb.setNextButton(ib),pb.setPrevButton(hb)),0==xb.slider_controls_always_on&&cb.hover(L,M),cb.on("touchend click",J),wb&&1==zb.isTextPanelSaparateHover&&cb.hover(w,v),qb&&(ub.addClassOnHover(qb,"ug-button-hover"),pb.setPlayButton(qb)),rb&&(ub.addClassOnHover(rb,"ug-button-hover"),pb.setFullScreenToggleButton(rb)),kb&&ob.on(nb.events.ZOOM_CHANGE,K),lb&&lb.initEvents(),tb.initEvents(),ob.on(nb.events.BEFORE_SWITCH_SLIDES,N),jQuery(tb).on(tb.events.SHOW,P),jQuery(tb).on(tb.events.HIDE,Q),T(eb),T(fb),T(gb),ob.on(nb.events.AFTER_PUT_IMAGE,S),cb.delegate(".ug-item-wrapper img","mouseenter",function(){ob.trigger(nb.events.IMAGE_MOUSEENTER)}),cb.delegate(".ug-item-wrapper img","mouseleave",function(a){var b=nb.isMouseInsideSlideImage(a);0==b&&ob.trigger(nb.events.IMAGE_MOUSELEAVE)})}function V(){var a;switch(xb.slider_loader_type){default:case 1:a="ug-loader1";break;case 2:a="ug-loader2";break;case 3:a="ug-loader3";break;case 4:a="ug-loader4";break;case 5:a="ug-loader5";break;case 6:a="ug-loader6";break;case 7:a="ug-loader7";break;case 8:a="ug-loader8";break;case 9:a="ug-loader9"}return"black"==xb.slider_loader_color&&(a+=" ug-loader-black"),a}function W(a){switch(a){case 1:return eb;case 2:return fb;case 3:return gb;default:throw new Error("wrong num: "+a)}}function X(a){var b=nb.getSlidesReference(),c=b.objCurrentSlide.data("index"),d=a.index,e="left";return c>d&&(e="right"),e}function Y(a){if(!a)var a=nb.getCurrentSlide();var b=a.children(".ug-slider-preloader");return b}function Z(a){var b=a.children(".ug-button-videoplay");return b}function $(a){if(!a)var a=nb.getCurrentSlide();var b=a.data("index");
if(void 0==b)return null;var c=pb.getItem(b);return c}var _,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb=this,ob=jQuery(nb),pb=new UniteGalleryMain,qb=null,rb=null,sb=null,tb=new UGVideoPlayer,ub=new UGFunctions,vb=null,wb=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave"};var xb={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},yb={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},zb={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.destroy=function(){ob.off(nb.events.AFTER_PUT_IMAGE),_.off(pb.events.ITEM_IMAGE_UPDATED),_.off(pb.events.ITEM_CHANGE),sb&&jQuery(sb).on(sb.events.BULLET_CLICK),cb.off("mouseenter"),cb.off("mouseleave"),cb.off("touchend"),cb.off("click"),kb&&ob.off(nb.events.ZOOM_CHANGE),ob.off(nb.events.BEFORE_SWITCH_SLIDES),jQuery(tb).off(tb.events.SHOW),jQuery(tb).off(tb.events.HIDE),tb.destroy(),cb.undelegate(".ug-item-wrapper img","mouseenter"),cb.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(b,c,d){a(b,c,d)},this.getSlideImage=function(a){if(!a)var a=nb.getCurrentSlide();var b=a.find(".ug-item-wrapper img");return b},this.setHtml=function(a){e(a)},this.run=function(){b()},this.isInnerInPlace=function(){var a=nb.getSlidesReference(),b=ub.getElementSize(a.objCurrentSlide),c=-b.left,d=ub.getElementSize(db);return c==d.left?!0:!1},this.isAnimating=function(){var a=db.is(":animated");return a},this.isSlideCurrent=function(a){var b=a.data("slidenum");return zb.numCurrent==b?!0:!1},this.isSlideHasItem=function(a){var b=a.data("index");return void 0===b||null===b?!1:!0},this.getObjImagePadding=function(){var a={padding_top:xb.slider_image_padding_top,padding_bottom:xb.slider_image_padding_bottom,padding_left:xb.slider_image_padding_left,padding_right:xb.slider_image_padding_right};return a},this.getSlidesReference=function(){var a={objPrevSlide:W(zb.numPrev),objNextSlide:W(zb.numNext),objCurrentSlide:W(zb.numCurrent)};return a},this.getCurrentSlide=function(){var a=nb.getSlidesReference();return a.objCurrentSlide},this.getCurrentItemIndex=function(){var a=nb.getSlidesReference(),b=a.objCurrentSlide.data("index");return(null===b||void 0===b)&&(b=-1),b},this.getCurrentItem=function(){var a=nb.getCurrentItemIndex();if(-1==a)return null;var b=pb.getItem(a);return b},this.getSlideType=function(a){void 0==a&&(a=nb.getCurrentSlide());var b=a.data("type");return b},this.isMouseInsideSlideImage=function(a){var b=nb.getSlideImage(),c=ub.getMousePosition(a);void 0===c.pageX&&(c=jb.getLastMousePos());var d=ub.getMouseElementPoint(c,b),e=ub.getElementSize(b);return isMouseInside=ub.isPointInsideElement(d,e),isMouseInside},this.isCurrentSlideType=function(a){var b=nb.getSlideType();return b==a?!0:!1},this.setItem=function(a,b){var c=nb.getSlidesReference(),d=c.objCurrentSlide.data("index"),e=a.index;if(e==d)return!0;var f=void 0==d;if(f)u(c.objCurrentSlide,a),nb.placeNabourItems();else{var g="left",h=pb.getNumItems();d==h-1&&0==e?g="left":0==d&&e==h-1?g="right":d>e&&(g="right"),k(g,a,b)}},this.placeNabourItems=function(){var a=nb.getSlidesReference(),b=a.objCurrentSlide.data("index"),c=pb.getPrevItem(b),d=pb.getNextItem(b);u(a.objNextSlide,d),u(a.objPrevSlide,c),j()},this.switchSlideNums=function(a){switch(ob.trigger(nb.events.BEFORE_SWITCH_SLIDES),a){case"left":var b=zb.numCurrent;zb.numCurrent=zb.numNext,zb.numNext=zb.numPrev,zb.numPrev=b;break;case"right":var b=zb.numCurrent;zb.numCurrent=zb.numPrev,zb.numPrev=zb.numNext,zb.numNext=b;break;default:throw new Error("wrong direction: "+a)}ob.trigger(nb.events.ITEM_CHANGED)},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(a){a||(a=nb.getCurrentSlide());var b=nb.getSlideType(a);switch(b){default:tb.hide()}},this.startSlideAction=function(a){a||(a=nb.getCurrentSlide());var b=$(a);if("image"==b.type)return!0;switch(1==xb.slider_video_constantsize&&q(),tb.show(),b.type){case"youtube":tb.playYoutube(b.videoid);break;case"vimeo":tb.playVimeo(b.videoid);break;case"html5video":tb.playHtml5Video(b.videoogv,b.videowebm,b.videomp4,b.urlImage);break;case"soundcloud":tb.playSoundCloud(b.trackid);break;case"wistia":tb.playWistia(b.videoid);break;case"iframe":tb.playIframe(b.iframesrc)}},this.getScaleMode=function(a){if(!a)var a=nb.getCurrentSlide();var b=nb.getSlideType(a);return"image"!=b?xb.slider_scale_mode_media:xb.slider_scale_mode==xb.slider_scale_mode_fullscreen?xb.slider_scale_mode:1==pb.isFullScreen()?xb.slider_scale_mode_fullscreen:xb.slider_scale_mode},this.getObjects=function(){var a={g_objSlider:cb,g_objInner:db,g_options:xb,g_objZoomSlider:kb};return a},this.getObjZoom=function(){return kb},this.getOptions=function(){return xb},this.getElement=function(){return cb},this.getVideoObject=function(){return tb},this.isCurrentSlideImageFit=function(){{var a=nb.getCurrentSlide();nb.getSlideType(a)}y("image",a);var b=nb.getSlideImage(a);if(0==b.length)return!1;var c=ub.isImageFitParent(b);return c},this.isCurrentImageInPlace=function(){var a=nb.getSlideImage();if(0==a.length)return!1;var b=nb.getScaleMode(),c=nb.getObjImagePadding(),d=$(),e=a.parent(),f=ub.getImageInsideParentData(e,d.imageWidth,d.imageHeight,b,c),g=ub.getElementSize(a);return f.imageWidth==g.width?!0:!1},this.isSlideActionActive=function(){return tb.isVisible()},this.isSwiping=function(){if(!jb)return!1;var a=jb.isTouchActive();return a},this.isPreloading=function(){var a=Y();return a.is(":visible")?!0:!1},this.setOptions=function(a){mb&&(a=ub.convertCustomPrefixOptions(a,mb,"slider")),xb=jQuery.extend(xb,a)},this.setSize=function(a,b){if(0>a||0>b)return!0;var c={};c.width=a+"px",c.height=b+"px",cb.css(c);var d={};d.height=b+"px",d.top="0px",d.left="0px",db.css(d);var e={};e.height=b+"px",e.width=a+"px",eb.css(e),fb.css(e),gb.css(e);var f=a-xb.slider_item_padding_left-xb.slider_item_padding_right,h=b-xb.slider_item_padding_top-xb.slider_item_padding_bottom,i={};i.width=f+"px",i.height=h+"px",i.top=xb.slider_item_padding_top+"px",i.left=xb.slider_item_padding_left+"px",cb.find(".ug-item-wrapper").css(i),wb&&wb.setSizeByParent();var k=nb.getSlideType();if("image"!=k&&1==xb.slider_video_constantsize)q();else{var l=a-xb.slider_video_padding_left-xb.slider_video_padding_right,m=b-xb.slider_video_padding_top-xb.slider_video_padding_bottom;tb.setSize(l,m),tb.setPosition(xb.slider_video_padding_left,xb.slider_video_padding_top)}g(),n(eb),n(fb),n(gb),j()},this.refreshSlideItems=function(){return 1==nb.isAnimating()?!0:(n(eb),n(fb),n(gb),void j())},this.isMouseOver=function(){return cb.ismouseover()},this.setPosition=function(a,b){ub.placeElement(cb,a,b)},this.zoomIn=function(){return kb?void kb.zoomIn():!0},this.zoomOut=function(){return kb?void kb.zoomOut():!0},this.zoomBack=function(){return kb?void kb.zoomBack():!0}}function UGTextPanel(){function a(a,b){if(!b)var b=s.textpanel_padding_top;var c=b;if(k){var d=c;q.placeElement(k,0,d);var f=q.getElementSize(k),c=f.bottom}var g="";if(l&&(g=jQuery.trim(l.text())),""!=g){var h=c;k&&(h+=s.textpanel_padding_title_description),q.placeElement(l,0,h);var i=q.getElementSize(l);c=i.bottom}if(!s.textpanel_height){var j=c+s.textpanel_padding_bottom;e(j,a)}}function b(){var a=0;if(k&&(a+=k.outerHeight()),l){var b="";l&&(b=jQuery.trim(l.text())),""!=b&&(k&&(a+=s.textpanel_padding_title_description),a+=l.outerHeight())}return a}function c(){var c=b(),d=(n.height()-c)/2;a(!1,d)}function d(){var c=b(),d=n.height()-c-s.textpanel_padding_bottom;a(!1,d)}function e(a,b){if(!b)var b=!1;if(1==b){if(m){var c=m.height();a>c&&m.height(a)}var d={height:a+"px"};i.add(n).animate(d,s.textpanel_fade_duration)}else m&&m.height(a),i.add(n).height(a)}function f(){if(1==s.textpanel_enable_bg){m=i.children(".ug-textpanel-bg"),m.fadeTo(0,s.textpanel_bg_opacity);var a={"background-color":s.textpanel_bg_color};a=jQuery.extend(a,s.textpanel_bg_css),m.css(a)}if(1==s.textpanel_enable_title){k=n.children(".ug-textpanel-title");var b={};null!==s.textpanel_title_color&&(b.color=s.textpanel_title_color),null!==s.textpanel_title_font_family&&(b["font-family"]=s.textpanel_title_font_family),null!==s.textpanel_title_text_align&&(b["text-align"]=s.textpanel_title_text_align),null!==s.textpanel_title_font_size&&(b["font-size"]=s.textpanel_title_font_size+"px"),null!==s.textpanel_title_bold&&(b["font-weight"]=s.textpanel_title_bold===!0?"bold":"normal"),s.textpanel_css_title&&(b=jQuery.extend(b,s.textpanel_css_title)),k.css(b)}if(1==s.textpanel_enable_description){l=n.children(".ug-textpanel-description");var c={};null!==s.textpanel_desc_color&&(c.color=s.textpanel_desc_color),null!==s.textpanel_desc_font_family&&(c["font-family"]=s.textpanel_desc_font_family),null!==s.textpanel_desc_text_align&&(c["text-align"]=s.textpanel_desc_text_align),null!==s.textpanel_desc_font_size&&(c["font-size"]=s.textpanel_desc_font_size+"px"),null!==s.textpanel_desc_bold&&(c["font-weight"]=s.textpanel_desc_bold===!0?"bold":"normal"),s.textpanel_css_title&&(c=jQuery.extend(c,s.textpanel_css_description)),l.css(c)}}function g(){var a=o.getSelectedItem();p.setText(a.title,a.description)}function h(){jQuery(o).on(o.events.ITEM_CHANGE,g)}var i,j,k,l,m,n,o,p=this,q=new UGFunctions,r="",s={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_bg_css:{}},t={isFirstTime:!0};this.positionElements=function(b){if(!s.textpanel_height||"top"==s.textpanel_text_valign)return a(b),!1;switch(s.textpanel_text_valign){default:case"top":a(!1);break;case"bottom":d();break;case"center":case"middle":c()}},this.init=function(a,b,c){if(o=a,c&&(r=c,b=q.convertCustomPrefixOptions(b,r,"textpanel")),b&&(s=jQuery.extend(s,b)),0==s.textpanel_enable_title&&0==s.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");s.textpanel_height&&s.textpanel_height<0&&(s.textpanel_height=null)},this.appendHTML=function(a){j=a;var b="<div class='ug-textpanel'>";1==s.textpanel_enable_bg&&(b+="<div class='ug-textpanel-bg'></div>"),b+="<div class='ug-textpanel-textwrapper'>",1==s.textpanel_enable_title&&(b+="<div class='ug-textpanel-title'></div>"),1==s.textpanel_enable_description&&(b+="<div class='ug-textpanel-description'></div>"),b+="</div></div>",a.append(b),i=a.children(".ug-textpanel"),n=i.children(".ug-textpanel-textwrapper"),f()},this.destroy=function(){jQuery(o).off(o.events.ITEM_CHANGE)},this.run=function(){p.setSizeByParent(),h()},this.setPanelSize=function(a){var b=80;s.textpanel_height&&(b=s.textpanel_height),i.width(a),i.height(b),m&&(m.width(a),m.height(b));var c=a-s.textpanel_padding_left-s.textpanel_padding_right,d=s.textpanel_padding_left;q.setElementSizeAndPosition(n,d,0,c,b),k&&k.width(c),l&&l.width(c),0==t.isFirstTime&&p.positionElements(!1)},this.setSizeByParent=function(){var a=q.getElementSize(j);p.setPanelSize(a.width)},this.setTextPlain=function(a,b){k&&k.html(a),l&&l.html(b)},this.setText=function(a,b){1==t.isFirstTime?(p.setTextPlain(a,b),t.isFirstTime=!1,p.positionElements(!1)):n.stop().fadeTo(s.textpanel_fade_duration,0,function(){p.setTextPlain(a,b),p.positionElements(!0),jQuery(this).fadeTo(s.textpanel_fade_duration,1)})},this.positionPanel=function(a,b){var c={};if(void 0!==a&&null!==a)c.top=a;else switch(s.textpanel_align){case"top":c.top=s.textpanel_margin+"px";break;case"bottom":c.top="auto",c.bottom=s.textpanel_margin+"px";break;case"middle":c.top=q.getElementRelativePos(i,"middle",s.textpanel_margin)}void 0!==b&&null!==b&&(c.left=b),i.css(c)},this.setOptions=function(a){r&&(a=q.convertCustomPrefixOptions(a,r,"textpanel")),s=jQuery.extend(s,a)},this.getElement=function(){return i},this.getSize=function(){var a=q.getElementSize(i);return a},this.refresh=function(a,b,c){f(),c?p.setPanelSize(c):p.setSizeByParent(),p.positionElements(!1),b!==!0&&p.positionPanel(),a===!0&&p.show()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.getOptions=function(){return s},this.getOption=function(a){return 0==s.hasOwnProperty(a)?null:s[a]}}function UGZoomButtonsPanel(){function a(a){return a.hasClass("ug-zoompanel-button-disabled")?!0:!1}function b(a){a.addClass("ug-zoompanel-button-disabled")}function c(a){a.removeClass("ug-zoompanel-button-disabled")}function d(){if(0==k.isCurrentSlideType("image"))return!0;var d=k.isCurrentSlideImageFit();1==d?0==a(h)&&(b(h),b(i)):1==a(h)&&(c(h),c(i))}var e,f,g,h,i,j=this,k=new UGSlider,l=new UGFunctions,m={slider_zoompanel_skin:""};this.init=function(a,b){k=a,b&&(m=jQuery.extend(m,b))},this.appendHTML=function(a){f=a;var b="<div class='ug-slider-control ug-zoompanel ug-skin-"+m.slider_zoompanel_skin+"'>";b+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",b+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",b+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",b+="</div>",a.append(b),e=a.children(".ug-zoompanel"),g=e.children(".ug-zoompanel-plus"),h=e.children(".ug-zoompanel-minus"),i=e.children(".ug-zoompanel-return")},this.getElement=function(){return e},j.initEvents=function(){l.addClassOnHover(g,"ug-button-hover"),l.addClassOnHover(h,"ug-button-hover"),l.addClassOnHover(i,"ug-button-hover"),l.setButtonOnClick(g,function(){return 1==a(g)?!0:void k.zoomIn()}),l.setButtonOnClick(h,function(){return 1==a(h)?!0:void k.zoomOut()}),l.setButtonOnClick(i,function(){return 1==a(i)?!0:void k.zoomBack()}),jQuery(k).on(k.events.ZOOM_CHANGE,d),jQuery(k).on(k.events.ITEM_CHANGED,d)}}function UGBullets(){function a(){var a="",b="";-1!=n.bullets_space_between&&(b=" style='margin-left:"+n.bullets_space_between+"px'");for(var c=0;i>c;c++)a+=0==c?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+b+"></div>";f.html(a)}function b(a){if(1==h.isActive(a))return!0;var b=a.index();jQuery(h).trigger(h.events.BULLET_CLICK,b)}function c(){var a=f.children(".ug-bullet");l.setButtonOnClick(a,b),a.on("mousedown mouseup",function(){return!1})}function d(a){if(0>a||a>=i)throw new Error("wrong bullet index: "+a)}function e(){if(1==m.isInited)return!0;throw new Error("The bullets are not inited!")}var f,g,h=this,i=0,j=new UniteGalleryMain,k=-1,l=new UGFunctions,m={isInited:!1},n={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(a,b,c){j=a,i=c?c:j.getNumItems(),m.isInited=!0,n=jQuery.extend(n,b),""==n.bullets_skin&&(n.bullets_skin=n.gallery_skin)},this.appendHTML=function(b){g=b,e();var d="";""!=n.bullets_addclass&&(d=" "+n.bullets_addclass);var h="<div class='ug-slider-control ug-bullets ug-skin-"+n.bullets_skin+d+"'>";h+="</div>",f=jQuery(h),b.append(f),a(),c()},this.updateNumBullets=function(b){i=b,a(),c()},this.getElement=function(){return f},this.setActive=function(a){e(),d(a);var b=f.children(".ug-bullet");b.removeClass("ug-bullet-active");var c=jQuery(b[a]);c.addClass("ug-bullet-active"),k=a},this.isActive=function(a){if(d(a),"number"!=typeof a)var b=a;else var b=f.children(".ug-bullet")[a];return b.hasClass("ug-bullet-active")?!0:!1}}function UGProgressBar(){var a,b,c=this,d=0,e=new UGFunctions,f={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(c,d){d&&(f=jQuery.extend(f,d)),c.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),a=c.children(".ug-progress-bar"),b=a.children(".ug-progress-bar-inner"),b.css("background-color",f.slider_progressbar_color),a.height(f.slider_progressbar_line_width),b.height(f.slider_progressbar_line_width),b.width("0%");var e=f.slider_progressbar_opacity,g=b[0];g.style.opacity=e,g.style.filter="alpha(opacity="+100*e+")"},this.putHidden=function(b,d){c.put(b,d),a.hide()},this.getElement=function(){return a},this.setSize=function(d){a.width(d),b.width(d),c.draw()},this.setPosition=function(b,c,d,f){e.placeElement(a,b,c,d,f)},this.draw=function(){var a=100*d;b.width(a+"%")},this.setProgress=function(a){d=e.normalizePercent(a),c.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function a(a){if(!a)var a=0;var b=Math.min(g.slider_progresspie_width,g.slider_progresspie_height)/2,d=c[0].getContext("2d");0==e&&(e=!0,d.rotate(1.5*Math.PI),d.translate(-2*b,0)),d.clearRect(0,0,g.slider_progresspie_width,g.slider_progresspie_height);var f=g.slider_progresspie_width/2,h=g.slider_progresspie_height/2,i=0,j=a*Math.PI*2;if(1==g.slider_progresspie_type_fill)d.beginPath(),d.moveTo(f,h),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath();else{d.globalCompositeOperation="source-over",d.beginPath(),d.moveTo(f,h),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath(),d.globalCompositeOperation="destination-out";var k=b-g.slider_progresspie_stroke_width;d.beginPath(),d.moveTo(f,h),d.arc(f,h,k,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color1,d.fill(),d.closePath()}1==g.slider_progresspie_type_fill&&(i=j,j=2*Math.PI,d.beginPath(),d.arc(f,h,b,i,j),d.lineTo(f,h),d.fillStyle=g.slider_progresspie_color2,d.fill(),d.closePath())}var b,c,d=this,e=!1,f=new UGFunctions,g={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(a,b){b&&(g=jQuery.extend(g,b)),a.append("<canvas class='ug-canvas-pie' width='"+g.slider_progresspie_width+"' height='"+g.slider_progresspie_height+"'></canvas>"),c=a.children(".ug-canvas-pie")},this.putHidden=function(b,e){d.put(b,e),a(.1),c.hide()},this.getElement=function(){return c},this.setPosition=function(a,b){f.placeElement(c,a,b)},this.getSize=function(){var a={width:g.slider_progresspie_width,height:g.slider_progresspie_height};return a},this.setProgress=function(c){c=f.normalizePercent(c),b=c,a(c)},this.getType=function(){return"pie"}}function UGStripPanel(){function a(a,b){y=a,r=jQuery(y),C=jQuery.extend(C,b);var c=!1;1==C.strippanel_vertical_type&&(C=jQuery.extend(C,D),c=!0),0==C.strippanel_enable_buttons&&(C=jQuery.extend(C,E),c=!0),1==c&&(C=jQuery.extend(C,b));var d=y.getOptions(),e=d.gallery_skin;""==C.strippanel_buttons_skin&&(C.strippanel_buttons_skin=e),s=y.getElement(),B.init(y,F,w,C,x),y.initThumbsPanel("strip",C);var f=y.getObjects();A=f.g_objThumbs}function b(){if(0==C.strippanel_vertical_type){if(0==F.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==F.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==F.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function c(){return 1==F.isFirstRun&&0==b()?!1:(A.run(),h(),k(),q(),F.isFirstRun=!1,void n())}function d(a){if(!a)var a=s;if(a.append("<div class='ug-strip-panel'></div>"),t=a.children(".ug-strip-panel"),1==C.strippanel_enable_buttons){var b="ug-strip-arrow-left",c="ug-strip-arrow-right";1==C.strippanel_vertical_type&&(b="ug-strip-arrow-up",c="ug-strip-arrow-down"),t.append("<div class='ug-strip-arrow "+b+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),t.append("<div class='ug-strip-arrow "+c+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}B.setHtml(t),A.setHtml(t),1==C.strippanel_enable_buttons&&(v=t.children("."+b),u=t.children("."+c)),e()}function e(){""!=C.strippanel_background_color&&t.css("background-color",C.strippanel_background_color)}function f(){var a=A.getHeight(),b=F.panelWidth;if(u){v.height(a),u.height(a);var c=v.children(".ug-strip-arrow-tip");z.placeElement(c,"center","middle");var d=u.children(".ug-strip-arrow-tip");z.placeElement(d,"center","middle")}var e=a+C.strippanel_padding_top+C.strippanel_padding_bottom;t.width(b),t.height(e),F.panelHeight=e;var f=b-C.strippanel_padding_left-C.strippanel_padding_right;if(u){var g=u.outerWidth();f=f-2*g-2*C.strippanel_padding_buttons}A.resize(f)}function g(){var a=A.getWidth(),b=F.panelHeight;if(u){v.width(a),u.width(a);var c=v.children(".ug-strip-arrow-tip");z.placeElement(c,"center","middle");var d=u.children(".ug-strip-arrow-tip");z.placeElement(d,"center","middle")}var e=a+C.strippanel_padding_left+C.strippanel_padding_right;t.width(e),t.height(b),F.panelWidth=e;var f=b-C.strippanel_padding_top-C.strippanel_padding_bottom;if(u){var g=u.outerHeight();f=f-2*g-2*C.strippanel_padding_buttons}A.resize(f)}function h(){0==C.strippanel_vertical_type?f():g()}function i(){u&&(z.placeElement(v,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),z.placeElement(u,"right","top",C.strippanel_padding_right,C.strippanel_padding_top));var a=C.strippanel_padding_left;u&&(a+=u.outerWidth()+C.strippanel_padding_buttons),A.setPosition(a,C.strippanel_padding_top)}function j(){u&&(z.placeElement(v,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),z.placeElement(u,"left","bottom",C.strippanel_padding_left,C.strippanel_padding_bottom));var a=C.strippanel_padding_top;u&&(a+=u.outerHeight()+C.strippanel_padding_buttons),A.setPosition(C.strippanel_padding_left,a)}function k(){0==C.strippanel_vertical_type?i():j(),B.placeElements()}function l(a){return z.isButtonDisabled(a)?!0:void("advance_item"==C.strippanel_buttons_role?y.nextItem():A.scrollForeward())}function m(a){return z.isButtonDisabled(a)?!0:void("advance_item"==C.strippanel_buttons_role?y.prevItem():A.scrollBack())}function n(){if(!u)return!0;if(0==A.isMoveEnabled())return z.disableButton(v),z.disableButton(u),!0;var a=A.getInnerStripLimits(),b=A.getInnerStripPos();b>=a.maxPos?z.disableButton(v):z.enableButton(v),b<=a.minPos?z.disableButton(u):z.enableButton(u)}function o(){n()}function p(){y.isLastItem()?z.disableButton(u):z.enableButton(u),y.isFirstItem()?z.disableButton(v):z.enableButton(v)}function q(){if(1==F.isEventsInited)return!1;if(F.isEventsInited=!0,u)if(z.addClassOnHover(u,"ug-button-hover"),z.addClassOnHover(v,"ug-button-hover"),z.setButtonOnClick(v,m),z.setButtonOnClick(u,l),"advance_item"!=C.strippanel_buttons_role)jQuery(A).on(A.events.STRIP_MOVE,o),r.on(y.events.SIZE_CHANGE,n);else{var a=y.getOptions();0==a.gallery_carousel&&jQuery(y).on(y.events.ITEM_CHANGE,p)}B.initEvents()}var r,s,t,u,v,w=this,x=jQuery(this),y=new UniteGalleryMain,z=new UGFunctions,A=new UGThumbsStrip,B=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var C={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},D={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},E={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},F={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){u&&(z.destroyButton(u),z.destroyButton(v),jQuery(A).off(A.events.STRIP_MOVE),jQuery(y).off(y.events.ITEM_CHANGE),jQuery(y).off(y.events.SIZE_CHANGE)),B.destroy(),A.destroy()},this.getOrientation=function(){return F.orientation},this.setOrientation=function(a){F.orientation=a},this.init=function(b,c){a(b,c)},this.run=function(){c()},this.setHtml=function(a){d(a)},this.getElement=function(){return t},this.getSize=function(){var a=z.getElementSize(t);return a},this.setWidth=function(a){F.panelWidth=a},this.setHeight=function(a){F.panelHeight=a},this.resize=function(a){w.setWidth(a),h(),k()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return B.isPanelClosed()},this.getClosedPanelDest=function(){return B.getClosedPanelDest()},this.openPanel=function(a){B.openPanel(a)},this.closePanel=function(a){B.closePanel(a)},this.setOpenedState=function(a){B.setOpenedState(a)},this.setClosedState=function(a){B.setClosedState(a)},this.setCustomThumbs=function(a){A.setCustomThumbs(a)},this.setDisabledAtStart=function(a){B.setDisabledAtStart(a)}}function UGThumbsGeneral(){function a(){var a="",b=y.thumb_image_overlay_type.split(",");for(var c in b){var d=b[c];switch(d){case"bw":a+=" ug-bw-effect";break;case"blur":a+=" ug-blur-effect";break;case"sepia":a+=" ug-sepia-effect"}}return a}function b(a,b){a.stop(!0).animate(b,{duration:y.thumb_transition_duration,easing:y.thumb_transition_easing,queue:!1})}function c(a,c,d,e){if(!e)var e=!1;w.isFakeFullscreen()&&(e=!0);var f=a.children(".ug-thumb-border-overlay"),g={};g["border-width"]=c+"px",0!=c&&(g["border-color"]=d),e&&e===!0?(f.css(g),0==c?f.hide():f.show()):(0==c?f.stop().fadeOut(y.thumb_transition_duration):f.show().stop().fadeIn(y.thumb_transition_duration),b(f,g))}function d(a,b,c){var d=a.children(".ug-thumb-overlay"),e=y.thumb_transition_duration;c&&c===!0&&(e=0),b?d.stop(!0).fadeTo(e,1):d.stop(!0).fadeTo(e,0)}function e(a,b,c){var d=a.children("img.ug-thumb-image"),e=a.children("img.ug-thumb-image-overlay"),f=y.thumb_transition_duration;c&&c===!0&&(f=0),b?e.stop(!0).fadeTo(f,1):(d.fadeTo(0,1),e.stop(!0).fadeTo(f,0))}function f(a,b){if(z.isEffectBorder&&c(a,y.thumb_selected_border_width,y.thumb_selected_border_color,b),z.isEffectOverlay){var f=1==y.thumb_overlay_reverse?!0:!1;d(a,f,b)}z.isEffectImage&&e(a,!1,b)}function g(a){return a.hasClass("ug-thumb-selected")?!0:!1}function h(a){1==g(a)?f(a,!0):u.setThumbNormalStyle(a,!0)}function i(){if(y.thumb_round_corners_radius<=0)return!1;var a={"border-radius":y.thumb_round_corners_radius+"px"};t.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(a)}function j(a,b){b=jQuery(b);var c=(u.getItemByThumb(b),x.getElementSize(b)),d={width:c.width+"px",height:c.height+"px"};1==z.isEffectBorder&&b.children(".ug-thumb-border-overlay").css(d),1==z.isEffectOverlay&&b.children(".ug-thumb-overlay").css(d),u.setThumbNormalStyle(b,!0)}function k(a){return 1==z.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==g(a)&&u.setThumbOverStyle(a))}function l(a){return 1==z.touchEnabled?!0:void(0==g(a)&&u.setThumbNormalStyle(a))}function m(a,b){if(!b)var b=!1;var c=jQuery(a),d=c.parent();if(0==d.parent().length)return!1;if(objItem=u.getItemByThumb(d),1==objItem.isLoaded&&b===!1)return!1;if(objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0,1==z.customThumbs)return v.trigger(u.events.PLACEIMAGE,[d,c]),!0;if(x.scaleImageCoverParent(c,d),d.children(".ug-thumb-loader").hide(),c.show(),0==y.thumb_image_overlay_effect)c.fadeTo(0,1);else{1==y.thumb_image_overlay_effect&&n(c),c.fadeTo(0,0);var d=c.parent();h(d)}}function n(a){var b=a.siblings(".ug-thumb-image-overlay");if(0==b.length)return!1;var c=x.getElementSize(a),d={width:c.width+"px",height:c.height+"px",left:c.left+"px",top:c.top+"px"};b.css(d),0==z.customThumbs&&b.fadeTo(0,1)}function o(a){var b=u.getItemByThumb(a);return b.isLoaded=!0,b.isThumbImageLoaded=!1,1==z.customThumbs?(v.trigger(u.events.IMAGELOADERROR,a),!0):(a.children(".ug-thumb-loader").hide(),void a.children(".ug-thumb-error").show())}var p,q,r,s,t,u=this,v=jQuery(u),w=new UniteGalleryMain,x=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",PLACEIMAGE:"thumbplaceimage",IMAGELOADERROR:"thumbimageloaderror"};var y={thumb_width:88,thumb_height:50,thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_text_overlay:!1,thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},z={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1},A={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};
this.init=function(a,b){q=a.getObjects(),w=a,p=jQuery(a),r=q.g_objWrapper,s=q.g_arrItems,y=jQuery.extend(y,b),z.isEffectBorder=y.thumb_border_effect,z.isEffectOverlay=y.thumb_color_overlay_effect,z.isEffectImage=y.thumb_image_overlay_effect},this.setHtmlThumbs=function(b){t=b;var c=w.getNumItems();if(1==z.isEffectImage)var d=a();for(var e=0;c>e;e++){var f=s[e],g="";0==z.customThumbs&&(g=" ug-thumb-generated");var h="<div class='ug-thumb-wrapper"+g+"'></div>";if(1==y.thumb_wrapper_as_link){var i=f.link;""==f.link&&(i="javascript:void(0)");var j="";1==y.thumb_link_newpage&&f.link&&(j=" target='_blank'");var h="<a href='"+i+"'"+j+" class='ug-thumb-wrapper"+g+"'></a>"}var k=jQuery(h),l=f.objThumbImage;if(0==z.customThumbs){if(1==y.thumb_show_loader&&l){var m="ug-thumb-loader-dark";"bright"==y.thumb_loader_type&&(m="ug-thumb-loader-bright"),k.append("<div class='ug-thumb-loader "+m+"'></div>"),k.append("<div class='ug-thumb-error' style='display:none'></div>")}if(l){if(l.addClass("ug-thumb-image"),1==y.thumb_image_overlay_effect){var n=l.clone().appendTo(k);n.addClass("ug-thumb-image-overlay "+d).removeClass("ug-thumb-image"),n.fadeTo(0,0),f.objImageOverlay=n}k.append(l)}}z.isEffectBorder&&k.append("<div class='ug-thumb-border-overlay'></div>"),z.isEffectOverlay&&k.append("<div class='ug-thumb-overlay'></div>"),t.append(k),z.customThumbs&&z.funcSetCustomThumbHtml(k,f),s[e].objThumbWrapper=k}},this.setHtmlProperties=function(){if(0==z.customThumbs){var a={};a.width=y.thumb_width+"px",a.height=y.thumb_height+"px",t.children(".ug-thumb-wrapper").css(a),i()}if(t.children(".ug-thumb-wrapper").each(function(){var a=jQuery(this);u.setThumbNormalStyle(a,!0)}),0==z.customThumbs){var b={};b.width=y.thumb_width+"px",b.height=y.thumb_height+"px",t.find(".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay").css(b)}if(z.isEffectOverlay&&y.thumb_overlay_color){var c={},d=x.convertHexToRGB(y.thumb_overlay_color,y.thumb_overlay_opacity);c["background-color"]=d,t.find(".ug-thumb-wrapper .ug-thumb-overlay").css(c)}},this.setThumbNormalStyle=function(a,b){if(1==z.customThumbs&&a.removeClass("ug-thumb-over"),z.isEffectBorder&&c(a,y.thumb_border_width,y.thumb_border_color,b),z.isEffectOverlay){var f=1==y.thumb_overlay_reverse?!1:!0;d(a,f,b)}z.isEffectImage&&e(a,!0,b),v.trigger(u.events.SETNORMALSTYLE,a)},this.setThumbOverStyle=function(a){if(1==z.customThumbs&&a.addClass("ug-thumb-over"),z.isEffectBorder&&c(a,y.thumb_over_border_width,y.thumb_over_border_color),z.isEffectOverlay){var b=1==y.thumb_overlay_reverse?!0:!1;d(a,b)}1==z.isEffectImage&&e(a,!1),v.trigger(u.events.SETOVERSTYLE,a)},this.getItemByThumb=function(a){var b=a.data("index");void 0===b&&(b=a.index());var c=s[b];return c},this.setThumbSelected=function(a){return 1==z.customThumbs&&a.removeClass("ug-thumb-over"),1==g(a)?!0:(a.addClass("ug-thumb-selected"),void f(a))},this.initEvents=function(){var a=t.find(".ug-thumb-wrapper");a.on("touchstart",function(){z.touchEnabled=!0,a.off("mouseenter").off("mouseleave")}),r.on(A.eventSizeChange,j),a.hover(function(){var a=jQuery(this);k(a)},function(){var a=jQuery(this);l(a)})},this.destroy=function(){var a=t.find(".ug-thumb-wrapper");a.off("touchstart"),r.off(A.eventSizeChange),a.off("mouseenter"),a.off("mouseleave")},this.setThumbUnselected=function(a){a.removeClass("ug-thumb-selected"),u.setThumbNormalStyle(a)},this.loadThumbsImages=function(){var a=t.find(".ug-thumb-image");x.checkImagesLoaded(a,null,function(a,b){if(0==b)m(a,!0);else{var c=jQuery(a).parent();o(c)}})},this.setOptions=function(a){y=jQuery.extend(y,a)},this.setCustomThumbs=function(a,b){if(z.customThumbs=!0,"function"!=typeof a)throw new Error("The argument should be function");z.funcSetCustomThumbHtml=a,-1==jQuery.inArray("overlay",b)&&(z.isEffectOverlay=!1),-1==jQuery.inArray("border",b)&&(z.isEffectBorder=!1),z.isEffectImage=!1},this.getOptions=function(){return y},this.getNumThumbs=function(){var a=s.length;return a},this.getThumbs=function(){return t.children(".ug-thumb-wrapper")}}function UGThumbsGrid(){function a(a,b,c){I=a.getObjects(),P=a,H=jQuery(a),J=I.g_objWrapper,K=I.g_arrItems,c===!0&&(U.isTilesMode=!0),U.numThumbs=K.length,j(b),U.isNavigationVertical="top"==T.grid_panes_direction||"bottom"==T.grid_panes_direction,1==U.isTilesMode?(S.setFixedMode(),S.setApproveClickFunction(z),S.init(a,T),R=S.getObjThumbs()):R.init(a)}function b(a){var b=J;a&&(b=a),b.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),L=b.children(".ug-thumbs-grid"),M=L.children(".ug-thumbs-grid-inner"),1==U.isTilesMode?S.setHtml(M):R.setHtmlThumbs(M)}function c(){if(0==U.isHorizontal){if(0==U.gridHeight)throw new Error("You must set height before run.")}else if(0==U.gridWidth)throw new Error("You must set width before run.")}function d(){var a=P.getSelectedItem();if(c(),1==U.isFirstTimeRun&&(1==U.isTilesMode?(g(),S.run()):(R.setHtmlProperties(),g(),R.loadThumbsImages()),G()),n(),1==U.isFirstTimeRun&&U.isTilesMode){var b=R.getThumbs();b.each(function(a,b){J.trigger(U.eventSizeChange,jQuery(b))}),b.fadeTo(0,1)}null!=a&&h(a.index),O.trigger(N.events.PANE_CHANGE,U.currentPane),U.isFirstTimeRun=!1}function e(){var a=M.children(".ug-thumb-wrapper"),b=jQuery(a[0]),c=b.outerHeight(),d=U.gridWidth,e=T.grid_num_rows*c+(T.grid_num_rows-1)*T.grid_space_between_rows+2*T.grid_padding;U.gridHeight=e,Q.setElementSize(L,d,e),Q.setElementSize(M,d,e),U.innerWidth=d,U.innerHeight=e}function f(){var a=M.children(".ug-thumb-wrapper"),b=jQuery(a[0]),c=b.outerWidth(),d=T.grid_num_cols*c+(T.grid_num_cols-1)*T.grid_space_between_cols+2*T.grid_padding,e=U.gridHeight;U.gridWidth=d,Q.setElementSize(L,d,e),Q.setElementSize(M,d,e),U.innerWidth=d,U.innerHeight=e}function g(){0==U.isHorizontal?f():e()}function h(a){var b=w(a);return-1==b?!1:void N.gotoPane(b,"scroll")}function j(a){T=jQuery.extend(T,a),R.setOptions(a)}function k(){var a=M.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,g=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(e);var h=a.length;for(i=0;i<h;i++){var j=jQuery(a[i]);Q.placeElement(j,b,c);var k=j.outerWidth(),l=j.outerHeight();b>f&&(f=b);var m=c+l;m>g&&(g=m);var n=f+k;n>U.innerWidth&&(U.innerWidth=n),b+=k+T.grid_space_between_cols,d++,d>=T.grid_num_cols&&(c+=l+T.grid_space_between_rows,b=e,d=0),1==U.numPanes&&U.numThumbsInPane++,c+l>U.gridHeight&&(c=0,e=U.innerWidth+T.grid_space_between_cols,b=e,d=0,1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=g,L.height(U.gridHeight)),i<h-1&&(U.numPanes++,U.arrPanes.push(e)))}M.width(U.innerWidth),1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=g,L.height(g))}function l(){var a=M.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,g=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(f);var h=a.length;for(i=0;i<h;i++){var j=jQuery(a[i]);Q.placeElement(j,b,c);var k=j.outerWidth(),l=j.outerHeight();b+=k+T.grid_space_between_cols;var m=c+l;m>d&&(d=m),e++,e>=T.grid_num_cols&&(c+=l+T.grid_space_between_rows,b=f,e=0),1==U.numPanes&&U.numThumbsInPane++,m=c+l;var n=g+U.gridHeight;m>n&&(1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=d,L.height(U.gridHeight),n=U.gridHeight),c=n+T.grid_space_between_rows,g=c,f=0,b=f,e=0,i<h-1&&(U.numPanes++,U.arrPanes.push(c)))}M.height(d),U.innerHeight=d,1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=d,L.height(d))}function m(){var a=M.children(".ug-thumb-wrapper"),b=T.grid_padding,c=T.grid_padding,d=c,e=b,f=0,g=0,h=0,j=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(b-T.grid_padding);var k=a.length;for(i=0;i<k;i++){var l=jQuery(a[i]),m=l.outerWidth(),n=l.outerHeight();e-b+m>U.gridWidth&&(j++,d=0,j>=T.grid_num_rows?(j=0,b=e,h=0,d=c,1==U.numPanes&&(U.gridWidth=f+T.grid_padding,L.width(U.gridWidth)),U.numPanes++,U.arrPanes.push(b-T.grid_padding)):(e=b,d=h+T.grid_space_between_rows)),Q.placeElement(l,e,d);var o=e+m;o>f&&(f=o);var p=d+n;p>h&&(h=p),p>g&&(g=p);var o=f+m;o>U.innerWidth&&(U.innerWidth=o),e+=m+T.grid_space_between_cols,1==U.numPanes&&U.numThumbsInPane++}U.innerWidth=f,U.innerHeight=h,M.width(U.innerWidth),M.height(U.innerHeight),1==U.numPanes&&(U.gridWidth=f+T.grid_padding,U.gridHeight=g+T.grid_padding,L.width(U.gridWidth),L.height(U.gridHeight))}function n(){0==U.isHorizontal?U.isNavigationVertical?l():k():m()}function o(a){if(0>a||a>=U.numThumbs)throw new Error("Thumb not exists: "+a);return!0}function p(a){if(a>=U.numPanes||0>a)throw new Error("Pane "+index+" doesn't exists.");return!0}function q(a){var b=u(a);return 0==b?!1:void M.css(b)}function r(a){var b=u(a);return 0==b?!1:void M.stop(!0).animate(b,{duration:T.grid_transition_duration,easing:T.grid_transition_easing,queue:!1})}function s(){var a=-U.arrPanes[U.currentPane];r(a)}function t(){return 1==U.isNavigationVertical?U.gridHeight:U.gridWidth}function u(a){var b={};return 1==U.isNavigationVertical?b.top=a+"px":b.left=a+"px",b}function v(){var a=Q.getElementSize(M);return 1==U.isNavigationVertical?a.top:a.left}function w(a){if(0==o(a))return-1;var b=Math.floor(a/U.numThumbsInPane);return b}function x(){if(1==U.numPanes)return!1;var a=Q.getStoredEventData(U.storedEventID),b=a.diffTime,c=v(),d=Math.abs(c-a.startInnerPos);return d>30?!0:d>5&&b>300?!0:!1}function y(){var a=Q.getStoredEventData(U.storedEventID),b=v();diffPos=Math.abs(a.startInnerPos-b);var c=t(),d=Math.round(3*c/8);return diffPos>=d?!0:a.diffTime<300&&diffPos>25?!0:!1}function z(){if(1==U.numPanes)return!0;var a=Q.isApproveStoredEventClick(U.storedEventID,U.isNavigationVertical);return a}function A(){if(1==x())return!0;var a=jQuery(this),b=R.getItemByThumb(a);P.selectItem(b)}function B(a){if(1==U.numPanes)return!0;if(1==U.touchActive)return!0;0==U.isTilesMode&&a.preventDefault(),U.touchActive=!0;var b={startInnerPos:v()};Q.storeEventData(a,U.storedEventID,b)}function C(){if(0==T.grid_vertical_scroll_ondrag)return!1;if(1==U.isNavigationVertical)return!1;var a=Q.handleScrollTop(U.storedEventID);return"vert"===a?!0:!1}function D(a){if(0==U.touchActive)return!0;a.preventDefault(),Q.updateStoredEventData(a,U.storedEventID);var b=Q.getStoredEventData(U.storedEventID,U.isNavigationVertical),c=C();if(c)return!0;var d=b.diffMousePos,e=b.startInnerPos+d,f=d>0?"prev":"next",g=U.arrPanes[U.numPanes-1];0==T.grid_carousel&&e>0&&"prev"==f&&(e/=3),0==T.grid_carousel&&-g>e&&"next"==f&&(e=b.startInnerPos+d/3),q(e)}function E(a){if(0==U.touchActive)return!0;Q.updateStoredEventData(a,U.storedEventID);var b=Q.getStoredEventData(U.storedEventID,U.isNavigationVertical);if(U.touchActive=!1,0==y())return s(),!0;var c=v(),d=c-b.startInnerPos,e=d>0?"prev":"next";"next"==e?0==T.grid_carousel&&N.isLastPane()?s():N.nextPane():0==T.grid_carousel&&N.isFirstPane()?s():N.prevPane()}function F(){var a=P.getSelectedItem();R.setThumbSelected(a.objThumbWrapper),h(a.index)}function G(){if(0==U.isTilesMode){R.initEvents();var a=L.find(".ug-thumb-wrapper");a.on("click touchend",A),H.on(P.events.ITEM_CHANGE,F)}else S.initEvents();L.bind("mousedown touchstart",B),jQuery("body").bind("mousemove touchmove",D),jQuery(window).add("body").bind("mouseup touchend",E)}var H,I,J,K,L,M,N=this,O=jQuery(this),P=new UniteGalleryMain,Q=new UGFunctions,R=new UGThumbsGeneral,S=new UGTileDesign,T={grid_panes_direction:"left",grid_num_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var U={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid"};this.destroy=function(){if(0==U.isTilesMode){var a=L.find(".ug-thumb-wrapper");a.off("click"),a.off("touchend"),H.on(P.events.ITEM_CHANGE),R.destroy()}else S.destroy();L.unbind("mousedown"),L.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),O.off(N.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(a){R.setThumbUnselected(a)},this.isItemThumbVisible=function(a){var b=a.index,c=w(b);return c==U.currentPane?!0:!1},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(a){if(1==U.isTilesMode)var b=T.tile_height;else var c=R.getOptions(),b=c.thumb_height;var d=R.getNumThumbs(),e=Math.ceil(d/T.grid_num_cols),f=e*b+(e-1)*T.grid_space_between_rows,g=Math.ceil(f/a);return g},this.getNumPanesEstimationByWidth=function(a){if(U.isTilesMode)var b=T.tile_width;else var c=R.getOptions(),b=c.thumb_width;var d=R.getNumThumbs(),e=Math.ceil(d/T.grid_num_rows),f=e*b+(e-1)*T.grid_space_between_cols,g=Math.ceil(f/a);return g},this.getHeightEstimationByWidth=function(a){if(0==U.isTilesMode)throw new Error("This function works only with tiles mode");var b=R.getNumThumbs(),c=Q.getNumItemsInSpace(a,T.tile_width,T.grid_space_between_cols),d=Math.ceil(b/c);d>T.grid_num_rows&&(d=T.grid_num_rows);var e=Q.getSpaceByNumItems(d,T.tile_height,T.grid_space_between_rows);return e+=2*T.grid_padding},this.getElement=function(){return L},this.getSize=function(){var a=Q.getElementSize(L);return a},this.getNumPanes=function(){return U.numPanes},this.isFirstPane=function(){return 0==U.currentPane?!0:!1},this.isLastPane=function(){return U.currentPane==U.numPanes-1?!0:!1},this.getPaneInfo=function(){var a={pane:U.currentPane,total:U.numPanes};return a},this.getPane=function(){return U.currentPane},this.setWidth=function(a){U.gridWidth=a,U.isHorizontal=!0},this.setMaxWidth=function(a){U.gridWidth=a,U.isMaxWidth=!0,U.isHorizontal=!0},this.setHeight=function(a){U.gridHeight=a,U.isHorizontal=!1},this.setMaxHeight=function(a){U.gridHeight=a,U.isMaxHeight=!0,U.isHorizontal=!1},this.gotoPane=function(a){if(0==p(a))return!1;if(a==U.currentPane)return!1;var b=-U.arrPanes[a];U.currentPane=a,r(b),O.trigger(N.events.PANE_CHANGE,a)},this.nextPane=function(){var a=U.currentPane+1;if(a>=U.numPanes){if(0==T.grid_carousel)return!0;a=0}N.gotoPane(a,"next")},this.prevPane=function(){var a=U.currentPane-1;return 0>a&&(a=U.numPanes-1,0==T.grid_carousel)?!1:void N.gotoPane(a,"prev")},this.attachNextPaneButton=function(a){return Q.setButtonOnClick(a,N.nextPane),1==T.grid_carousel?!0:(N.isLastPane()&&a.addClass("ug-button-disabled"),void O.on(N.events.PANE_CHANGE,function(){N.isLastPane()?a.addClass("ug-button-disabled"):a.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(a){return Q.setButtonOnClick(a,N.prevPane),1==T.grid_carousel?!0:(N.isFirstPane()&&a.addClass("ug-button-disabled"),void O.on(N.events.PANE_CHANGE,function(){N.isFirstPane()?a.addClass("ug-button-disabled"):a.removeClass("ug-button-disabled")}))},this.attachBullets=function(a){a.setActive(U.currentPane),jQuery(a).on(a.events.BULLET_CLICK,function(b,c){N.gotoPane(c,"theme"),a.setActive(c)}),jQuery(N).on(N.events.PANE_CHANGE,function(b,c){a.setActive(c)})},this.getObjTileDesign=function(){return S},this.init=function(b,c,d){a(b,c,d)},this.run=function(){d()},this.setHtml=function(a){b(a)}}function UGThumbsStrip(){function a(a,b){w=a.getObjects(),E=a,v=jQuery(a),x=w.g_objWrapper,y=w.g_arrItems,I=jQuery.extend(I,b),G=I.strip_vertical_type,1==G&&(I=jQuery.extend(I,L),I=jQuery.extend(I,b)),H.init(a,b)}function b(){H.setHtmlProperties(),c(),g(),f(),0==J.isRunOnce&&(1==I.strip_control_touch&&(C=new UGTouchThumbsControl,C.init(D)),1==I.strip_control_avia&&(B=new UGAviaControl,B.init(D)),o(),H.loadThumbsImages(),r()),J.isRunOnce=!0}function c(){var a=A.children(".ug-thumb-wrapper"),b=jQuery(a[0]),c=b.outerWidth(),d=b.outerHeight();0==G?(K.thumbSize=c,K.thumbSecondSize=d,K.stripSize=z.width(),K.stripInnerSize=A.width()):(K.thumbSize=d,K.thumbSecondSize=c,K.stripSize=z.height(),K.stripInnerSize=A.height())}function d(){var a=A.children(".ug-thumb-wrapper"),b=0,c=0;for(i=0;i<a.length;i++){var d=jQuery(a[i]);F.placeElement(d,b,c),b+=d.outerWidth()+I.strip_space_between_thumbs}var e=b-I.strip_space_between_thumbs;A.width(e),K.stripInnerSize=e}function e(){var a=A.children(".ug-thumb-wrapper"),b=0,c=0;for(i=0;i<a.length;i++){var d=jQuery(a[i]);F.placeElement(d,c,b),b+=d.outerHeight()+I.strip_space_between_thumbs}var e=b-I.strip_space_between_thumbs;A.height(e),K.stripInnerSize=e}function f(){0==G?d():e()}function g(){if(0==G){var a=K.thumbSecondSize,b={};b.height=a+"px";var c={};c.height=a+"px"}else{var d=K.thumbSecondSize,b={};b.width=d+"px";var c={};c.width=d+"px"}z.css(b),A.css(c)}function h(a){var b=D.getInnerStripPos(),c=b+a;c=D.fixInnerStripLimits(c),D.positionInnerStrip(c,!0)}function j(a){var b=u(a),c=-1*b.min;c=D.fixInnerStripLimits(c),D.positionInnerStrip(c,!0)}function k(a){var b=u(a),c=-1*b.max+K.stripSize;c=D.fixInnerStripLimits(c),D.positionInnerStrip(c,!0)}function l(a){if(0==s())return!1;var b=t(),c=u(a);if(c.min<b.minPosThumbs){var d=a.prev();j(d.length?d:a)}else if(c.max>b.maxPosThumbs){var e=a.next();k(e.length?e:a)}}function m(){var a=E.getSelectedItem();if(null==a)return!0;var b=a.objThumbWrapper;b&&l(b)}function n(){if(0==s())return!1;var a=D.getInnerStripPos(),b=D.fixInnerStripLimits(a);a!=b&&D.positionInnerStrip(b,!0)}function o(){1==s()?(B&&B.enable(),C&&C.enable()):(B&&B.disable(),C&&C.disable())}function p(){return s()?!1:void(0==G?F.placeElement(A,I.strip_thumbs_align,0):F.placeElement(A,0,I.strip_thumbs_align))}function q(a){if(D.isTouchMotionActive()){var b=C.isSignificantPassed();if(1==b)return!0}var c=H.getItemByThumb(a);E.selectItem(c)}function r(){H.initEvents();var a=z.find(".ug-thumb-wrapper");a.on("click touchend",function(){var a=jQuery(this);q(a)}),v.on(E.events.ITEM_CHANGE,function(){var a=E.getSelectedItem();H.setThumbSelected(a.objThumbWrapper),l(a.objThumbWrapper)})}function s(){return 0==G?A.width()>z.width()?!0:!1:A.height()>z.height()?!0:!1}function t(){var a={},b=D.getInnerStripPos();return a.minPosThumbs=-1*b+1,a.maxPosThumbs=-1*b+K.stripSize-1,a}function u(a){var b={},c=a.position();return 0==G?(b.min=c.left,b.max=c.left+K.thumbSize):(b.min=c.top,b.max=c.top+K.thumbSize),b}var v,w,x,y,z,A,B,C,D=this,E=new UniteGalleryMain,F=new UGFunctions,G=!1,H=new UGThumbsGeneral,F=new UGFunctions,I={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0},J={isRunOnce:!1,is_placed:!1},K={stripSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove"};var L={strip_thumbs_align:"top"};this.setHtml=function(a){if(!a){var a=x;null!=I.parent_container&&(a=I.parent_container)}a.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),z=a.children(".ug-thumbs-strip"),A=z.children(".ug-thumbs-strip-inner"),H.setHtmlThumbs(A)},this.destroy=function(){var a=z.find(".ug-thumb-wrapper");a.off("click"),a.off("touchend"),v.off(E.events.ITEM_CHANGE),C&&C.destroy(),B&&B.destroy(),H.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(b,c){a(b,c)},this.run=function(){b()},this.fixInnerStripLimits=function(a){var b,c=0;return b=0==G?-(A.width()-z.width()):-(A.height()-z.height()),a>c&&(a=c),b>a&&(a=b),a},this.positionInnerStrip=function(a,b){if(void 0===b)var b=!1;if(0==G)var c={left:a+"px"};else var c={top:a+"px"};0==b?(A.css(c),D.triggerStripMoveEvent()):(D.triggerStripMoveEvent(),A.stop(!0).animate(c,{duration:I.strip_scroll_to_thumb_duration,easing:I.strip_scroll_to_thumb_easing,queue:!1,progress:function(){D.triggerStripMoveEvent()},always:function(){D.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(D).trigger(D.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!C)return!1;var a=C.isTouchActive();return a},this.isItemThumbVisible=function(a){var b=a.objThumbWrapper,c=b.position(),d=-1*D.getInnerStripPos();if(0==G)var e=d+z.width(),f=c.left,g=c.left+b.width();else var e=d+z.height(),f=c.top,g=c.top+b.height();var h=!1;return g>=d&&e>=f&&(h=!0),h},this.getInnerStripPos=function(){return 0==G?A.position().left:A.position().top},this.getInnerStripLimits=function(){var a={};return a.maxPos=0,a.minPos=0==G?-(A.width()-z.width()):-(A.height()-z.height()),a},this.scrollForeward=function(){h(-K.stripSize)},this.scrollBack=function(){h(K.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(a){I=jQuery.extend(I,a),H.setOptions(a)},this.setSizeVertical=function(a){if(0==G)throw new Error("setSizeVertical error, the strip size is not vertical");var b=K.thumbSecondSize,c={};c.width=b+"px",c.height=a+"px",z.css(c);var d={};d.width=b+"px",d.left="0px",d.top="0px",A.css(d),J.is_placed=!0,o()},this.setSizeHorizontal=function(a){if(0==G)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var b=K.thumbSecondSize,c={};c.width=a+"px",c.height=b+"px",z.css(c);var d={};d.height=b+"px",d.left="0px",d.top="0px",A.css(d),J.is_placed=!0,o()},this.setPosition=function(a,b,c,d){F.placeElement(z,a,b,c,d)},this.resize=function(a){0==G?z.width(a):z.height(a),K.stripSize=a,o(),n(),p(),m()},this.setThumbUnselected=function(a){H.setThumbUnselected(a)},this.setCustomThumbs=function(a){H.setCustomThumbs(a)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var a=H.getOptions(),b=jQuery.extend(I,a),c={g_gallery:E,g_objGallery:v,g_objWrapper:x,g_arrItems:y,g_objStrip:z,g_objStripInner:A,g_aviaControl:B,g_touchThumbsControl:C,isVertical:G,g_options:b};return c},this.getSizeAndPosition=function(){var a=F.getElementSize(z);return a},this.getHeight=function(){var a=z.outerHeight();return a},this.getWidth=function(){var a=z.outerWidth();return a},this.getSizes=function(){return K},this.isVertical=function(){return G},this.isPlaced=function(){return J.is_placed},this.isMoveEnabled=function(){var a=s();return a}}function UGTileDesign(){function a(a,d){E=a,y=jQuery(a);var e=E.getObjects();A=e.g_objWrapper,B=E.getArrItems(),H=jQuery.extend(H,I),H=jQuery.extend(H,d),b(),G.init(a,H);var f={};G.setCustomThumbs(c,["overlay"],f);var g=G.getOptions();H=jQuery.extend(H,g)}function b(){1==H.tile_enable_overlay?(H.thumb_overlay_opacity=H.tile_overlay_opacity,H.thumb_overlay_color=H.tile_overlay_color):0==H.tile_enable_icons?H.thumb_color_overlay_effect=!1:H.thumb_overlay_opacity=0,H.tile_as_link&&(H.thumb_wrapper_as_link=!0,H.thumb_link_newpage=H.tile_link_newpage),1==H.tile_enable_outline&&0==H.tile_enable_border&&(H.tile_enable_outline=!1)}function c(a,b){var c="<img src='"+b.urlThumb+"' alt='"+b.title+"' class='ug-thumb-image'>";a.append(c),a.addClass("ug-tile");a.children(".ug-thumb-image");1==J.isFixedMode&&(a.fadeTo(0,0),F.setElementSize(a,H.tile_width,H.tile_height),a.addClass("ug-tile-fixed"));var d={};if(1==H.tile_enable_border&&(d["border-width"]=H.tile_border_width+"px",d["border-style"]="solid",d["border-color"]=H.tile_border_color,H.tile_border_radius&&(d["border-radius"]=H.tile_border_radius+"px")),1==H.tile_enable_outline&&(d.outline="1px solid "+H.tile_outline_color),1==H.tile_enable_shadow){var e=H.tile_shadow_h+"px ";e+=H.tile_shadow_v+"px ",e+=H.tile_shadow_blur+"px ",e+=H.tile_shadow_spread+"px ",e+=H.tile_shadow_color,d["box-shadow"]=e}a.css(d);var f="";if(H.tile_enable_icons){if(0==H.tile_as_link&&1==H.tile_enable_action){var g="ug-button-play ug-icon-zoom";"image"!=b.type&&(g="ug-button-play ug-icon-play"),f+="<div class='ug-tile-icon "+g+"'></div>"}if(b.link&&1==H.tile_show_link_icon||1==H.tile_as_link)if(0==H.tile_as_link){var h="";1==H.tile_link_newpage&&(h=" target='_blank'"),f+="<a href='"+b.link+"'"+h+" class='ug-tile-icon ug-icon-link'></a>"}else f+="<div class='ug-tile-icon ug-icon-link'></div>";var i=a.children(".ug-thumb-overlay");i.append(f);var j=i.children("."+g);0==j.length?j=null:j.hide();var k=i.children(".ug-icon-link");0==k.length?k=null:k.hide(),k||1!=H.tile_enable_action||a.addClass("ug-tile-clickable")}else 1==H.tile_enable_action&&a.addClass("ug-tile-clickable");if(1==H.tile_enable_image_effect){var l="<div class='ug-tile-image-overlay' style='display:none'>",m=" ug-"+H.tile_image_effect_type+"-effect";l+="<img src='"+b.urlThumb+"' alt='"+b.title+"' class='"+m+"'>",l+="</div>",a.append(l)}if(1==H.tile_enable_textpanel){var n=new UGTextPanel;n.init(E,H,"tile"),n.appendHTML(a);var o=b.title;switch(H.tile_textpanel_source){case"desc":case"description":o=b.description;break;case"desc_title":""!=b.description&&(o=b.description)}n.setTextPlain(o,""),0==H.tile_textpanel_always_on&&n.getElement().fadeTo(0,0),a.data("objTextPanel",n)}}function d(a){var b=a.children("img.ug-thumb-image");return b}function e(a){var b=a.children(".ug-tile-image-overlay");return b}function f(a){var b=a.find(".ug-tile-image-overlay img");return b}function g(a){var b=a.data("objTextPanel");return b}function h(a){var b=a.find(".ug-textpanel");return b}function i(a){var b=a.find(".ug-icon-link");return 0==b.length?null:b}function j(a){var b=a.find(".ug-button-play");return 0==b.length?null:b}function k(a){return a.hasClass("ug-thumb-over")?!0:!1}function l(a){return a.hasClass("ug-tile-clickable")}function m(a){var b=(C.getItemByTile(a),j(a)),c=i(a),k=F.getElementSize(a),l=e(a),m=d(a),n=f(a);1==H.tile_enable_image_effect&&(F.setElementSize(l,k.width,k.height),F.cloneElementSizeAndPos(m,n)),J.isFixedMode&&(0==H.tile_enable_image_effect?F.scaleImageCoverParent(m,a):(F.scaleImageCoverParent(n,l),F.cloneElementSizeAndPos(n,m),setTimeout(function(){F.cloneElementSizeAndPos(n,m)},500)));var o=g(a);if(1==H.tile_enable_textpanel&&o&&o.refresh(),b||c){var p=0;if(1==H.tile_enable_textpanel){var q=h(a),r=F.getElementSize(q);r.height>0&&(p=Math.floor(r.height/2*-1))}}if(b&&c){var s=F.getElementSize(b),t=F.getElementSize(c),u=H.tile_space_between_icons,v=s.width+u+t.width,w=Math.floor((k.width-v)/2);u>w&&(u=Math.floor((k.width-s.width-t.width)/3),v=s.width+u+t.width,w=Math.floor((k.width-v)/2)),F.placeElement(b,w,"middle",0,p),F.placeElement(c,w+s.width+u,"middle",0,p)}else b&&F.placeElement(b,"center","middle",0,p),c&&F.placeElement(c,"center","middle",0,p);b&&b.show(),c&&c.show()}function n(a,b){var c=(C.getItemByTile(a),e(a)),f=H.thumb_transition_duration;if(0==H.tile_image_effect_reverse){var g=d(a);b?(g.fadeTo(1,1),c.stop(!0).fadeTo(f,0)):c.stop(!0).fadeTo(f,1)}else b?c.stop(!0).fadeTo(f,1):c.stop(!0).fadeTo(f,0)}function o(a,b){var c=H.thumb_transition_duration,d=h(a);if(!d)return!0;if("slide"==H.tile_textpanel_appear_type){var e=F.getElementSize(d);if(0==e.width)return!1;var f=-e.height,g=0;1==b?(d.fadeTo(0,1),0==d.is(":animated")&&d.css("bottom",f+"px"),d.stop(!0).animate({bottom:g+"px"},c)):d.stop(!0).animate({bottom:f+"px"},c)}else 1==b?d.stop(!0).fadeTo(c,1):d.stop(!0).fadeTo(c,0)}function p(a,b){b=jQuery(b),H.tile_enable_image_effect&&n(b,!0);var c=b.children(".ug-tile-image-overlay");c.show(),1==H.tile_enable_textpanel&&0==H.tile_textpanel_always_on&&o(b,!0)}function q(a,b){b=jQuery(b),H.tile_enable_image_effect&&n(b,!1),1==H.tile_enable_textpanel&&0==H.tile_textpanel_always_on&&o(b,!1)}function r(a){var b=G.getThumbs().not(a);b.each(function(a,b){G.setThumbNormalStyle(jQuery(b))})}function s(a,b,c){return b=jQuery(b),1==J.isFixedMode&&b.data("image_placed")!==!0&&c!==!0?!0:void m(b)}function t(a,b,c){m(b),c.fadeTo(0,1),b.data("image_placed",!0)}function u(a){return 1==l(a)?(D.trigger(C.events.TILE_CLICK,a),!0):void(0==k(a)&&(r(a),G.setThumbOverStyle(a)))}function v(a){var b=jQuery(this),c=b.prop("tagName").toLowerCase(),d=!0;if(J.funcParentApproveClick&&0==J.funcParentApproveClick()&&(d=!1),"a"==c)0==d&&a.preventDefault();else if(0==k(b))1==d&&u(b);else{if(0==l(b))return!0;1==d&&D.trigger(C.events.TILE_CLICK,b)}}function w(a){a.stopPropagation();var b=jQuery(this).parents(".ug-tile"),c=!0;return J.funcParentApproveClick&&0==J.funcParentApproveClick()&&(c=!1),0==k(b)?(u(b),!0):1==c?(D.trigger(C.events.TILE_CLICK,b),!1):void 0}function x(a){var b=jQuery(this).parents(".ug-tile");J.funcParentApproveClick&&0==J.funcParentApproveClick()&&a.preventDefault(),0==k(b)&&0==H.tile_as_link&&(a.preventDefault(),u(b))}var y,z,A,B,C=this,D=jQuery(this),E=new UniteGalleryMain,F=new UGFunctions,G=new UGThumbsGeneral;this.events={TILE_CLICK:"tile_click"};var H={tile_width:250,tile_height:200,tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide"},I={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,thumb_text_overlay:!0,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},J={isFixedMode:!1,eventSizeChange:"thumb_size_change",funcParentApproveClick:null};this.getItemByTile=function(a){return G.getItemByThumb(a)},this.loadTileImage=function(a){var b=d(a);F.checkImagesLoaded(b,null,function(b){t(null,a,jQuery(b))})},this.setHtml=function(a){z=a,G.setHtmlThumbs(a)},this.initEvents=function(){G.initEvents(),jQuery(G).on(G.events.SETOVERSTYLE,p),jQuery(G).on(G.events.SETNORMALSTYLE,q),jQuery(G).on(G.events.PLACEIMAGE,t),A.on(J.eventSizeChange,s),z.delegate(".ug-tile .ug-button-play","click",w),z.delegate(".ug-tile","click",v),z.delegate(".ug-tile .ug-icon-link","click",x)},this.destroy=function(){if(jQuery(G).off(G.events.SETOVERSTYLE),jQuery(G).off(G.events.SETNORMALSTYLE),jQuery(G).off(G.events.PLACEIMAGE),A.off(J.eventSizeChange),1==H.tile_enable_textpanel){var a=G.getThumbs();jQuery.each(a,function(a,b){var c=g(jQuery(b));c.destroy()})}G.destroy()},this.init=function(b,c,d){a(b,c,d)},this.setFixedMode=function(){J.isFixedMode=!0},this.setApproveClickFunction=function(a){J.funcParentApproveClick=a},this.run=function(){var a=G.getThumbs();1==H.tile_enable_image_effect&&0==H.tile_image_effect_reverse&&a.children(".ug-thumb-image").fadeTo(0,0),G.setHtmlProperties(),1==J.isFixedMode&&(a.children(".ug-thumb-image").fadeTo(0,0),G.loadThumbsImages())},this.getObjThumbs=function(){return G},this.getOptions=function(){return H},this.resizeTile=function(a,b,c){if(b){if(!c)var c=H.tile_height/H.tile_width*b}else var b=H.tile_width,c=H.tile_height;F.setElementSize(a,b,c),A.trigger(J.eventSizeChange,[a,!0])},this.resizeAllTiles=function(a,b){if(!b)var b=H.tile_height/H.tile_width*a;var c=G.getThumbs();c.each(function(c,d){C.resizeTile(jQuery(d),a,b)})},this.setOptions=function(a){H=jQuery.extend(H,a),G.setOptions(a)}}function UGTiles(){function a(a,b){g_objects=a.getObjects(),w=a,q=jQuery(a),r=g_objects.g_objWrapper,t=g_objects.g_arrItems,B=jQuery.extend(B,b),y.init(a,B),z=y.getObjThumbs()}function b(a){if(!a)var a=r;s=a;var b=B.tiles_type;a.addClass("ug-tiletype-"+b),y.setHtml(a),a.children(".ug-thumb-wrapper").hide()}function c(){1==B.tiles_enable_transition&&s.addClass("ug-tiles-transit")}function d(){return x.getElementSize(s).width}function e(){for(A.colWidth=B.tiles_col_width,A.colGap=B.tiles_space_between_cols,A.galleryWidth=d(),A.numCols=x.getNumItemsInSpace(A.galleryWidth,A.colWidth,A.colGap),A.totalWidth=A.numCols*(A.colWidth+A.colGap)-A.colGap,A.addX=Math.round((A.galleryWidth-A.totalWidth)/2),A.maxColHeight=0,A.arrPosx=[],col=0;col<A.numCols;col++){var a=x.getColX(col,A.colWidth,A.colGap);A.arrPosx[col]=a+A.addX
}A.colHeights=[0]}function f(a){a||(a=!1),e();var b=z.getThumbs();for(index=0;index<b.length;index++){var c=jQuery(b[index]);h(c,a,!1)}var d=s.height();1==B.tiles_enable_transition&&d>A.maxColHeight?setTimeout(function(){s.height(A.maxColHeight)},700):s.height(A.maxColHeight)}function g(){var a=0,b=999999999;for(col=0;col<A.numCols;col++){if(void 0==A.colHeights[col]||0==A.colHeights[col])return col;A.colHeights[col]<b&&(a=col,b=A.colHeights[col])}return a}function h(a,b,c){var d=(a.index(),g()),e=0;void 0!==A.colHeights[d]&&(e=A.colHeights[d]);var f=x.getElementSize(a),h=f.height,i=A.arrPosx[d];x.placeElement(a,i,e),A.colHeights[d]=e+h+A.colGap,A.maxColHeight<A.colHeights[d]&&(A.maxColHeight=A.colHeights[d]),1==b&&a.show(),1==c&&s.height(A.maxColHeight)}function i(a,b){if(1==b)return!1;a=jQuery(a);var c=jQuery(a).parent();h(c,!0,!0),c.fadeTo(0,1),r.trigger(u.events.THUMB_SIZE_CHANGE,c)}function j(){var a=z.getThumbs();a.css("width",B.tiles_col_width+"px"),a.fadeTo(0,0),e();var b=Math.abs(A.galleryWidth-A.totalWidth);if(1==B.tiles_set_initial_height&&0==x.isScrollbarExists()&&25>b){var d=(a.length,Math.ceil(a.length/A.numCols)),g=d*B.tiles_col_width*.75;s.height(g),e()}var h=A.numCols,j=A.galleryWidth,k=jQuery(s).find("img.ug-thumb-image"),l=!1;x.checkImagesLoaded(k,function(){e(),(h!=A.numCols||j!=A.galleryWidth)&&f(!1),c()},function(a,b){0==l&&v.trigger(u.events.TILES_FIRST_PLACED),l=!0,i(a,b)})}function k(){var a=d(),b=z.getThumbs(),c=B.tiles_justified_row_height,e=[],f=0,g=B.tiles_justified_space_between,h=b.length;jQuery.each(b,function(a,b){b=jQuery(b);var d=x.getElementSize(b),g=d.width,h=d.height;void 0!==b.data("originalWidth")?(g=b.data("originalWidth"),h=b.data("originalHeight")):(b.data("originalWidth",g),b.data("originalHeight",h)),h!==c&&(g=Math.floor(g/h*c)),e[a]=g,f+=g});var i=Math.ceil(f/a);i>h&&(i=h);var j=f/i,k=[],l=0,m=[],n=[],o=0,p=0;jQuery.each(b,function(a,b){var c=e[a];o+c/2>(p+1)*j&&(m[k.length]=l,k.push(n),n=[],l=0,p++),o+=c,l+=c,n.push(b)}),m[k.length]=l,k.push(n);var q=[],r=[],s=0;jQuery.each(k,function(b,d){var f=(d.length,m[b]),h=(d.length-1)*g,i=(a-h)/f,j=Math.round(c*i);s+=j,b>0&&(s+=g),r.push(j);var k=j/c,l=[],n=h;jQuery.each(d,function(a,b){var c=jQuery(b),d=c.index(),f=e[d],g=Math.round(f*k);l[a]=g,n+=g});var o=n-a;jQuery.each(l,function(a,b){return 0==o?!1:(0>o?(l[a]=b+1,o++):(l[a]=b-1,o--),void(a==l.length-1&&0!=o&&(l[a]-=o)))}),q[b]=l});var t={arrRows:k,arrRowWidths:q,arrRowHeights:r,gap:g,totalHeight:s};return t}function l(a){if(!a)var a=!1;var b=d(),c=k();s.height(c.totalHeight);var e=d();e!=b&&(c=k());var f=0,g=0;jQuery.each(c.arrRows,function(b,d){var e=c.arrRowWidths[b],h=c.arrRowHeights[b],i=0;jQuery.each(d,function(b,d){var j=jQuery(d),k=h,l=e[b];x.setElementSizeAndPosition(j,i,f,l,k),i+=l,i>g&&(g=i),i+=c.gap,1==a&&jQuery(d).show(),r.trigger(u.events.THUMB_SIZE_CHANGE,j)}),f+=h+c.gap})}function m(){var a=jQuery(r).find("img.ug-thumb-image"),b=z.getThumbs();b.fadeTo(0,0),x.checkImagesLoaded(a,function(){setTimeout(function(){l(!0),b.fadeTo(0,1),v.trigger(u.events.TILES_FIRST_PLACED),c()})})}function n(){switch(r.children(".ug-tile").show(),y.run(),B.tiles_type){default:case"columns":j();break;case"justified":m()}1==C.isFirstTimeRun&&p(),C.isFirstTimeRun=!1}function o(){if(1==C.isFirstTimeRun)return!0;switch(B.tiles_type){case"columns":f(!1);break;case"justified":l(!1)}}function p(){q.on(w.events.SIZE_CHANGE,o),y.initEvents()}var q,r,s,t,u=this,v=jQuery(this),w=new UniteGalleryMain,x=new UGFunctions,y=new UGTileDesign,z=new UGThumbsGeneral,A={},B={tiles_type:"columns",tiles_col_width:250,tiles_space_between_cols:3,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_set_initial_height:!0,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed"};var C={isFirstTimeRun:!0,handle:null};this.destroy=function(){q.off(w.events.SIZE_CHANGE),y.destroy()},this.init=function(b,c){a(b,c)},this.setHtml=function(a){b(a)},this.getObjTileDesign=function(){return y},this.run=function(){n()}}function UGTouchSliderControl(){function a(a){if(!a)var a=r.getSlidesReference();var b=t.getElementSize(a.objCurrentSlide),c=-b.left,d=t.getElementSize(o),e=c-d.left;return e}function b(){var b=r.getSlidesReference(),c=a(b),d=Math.round(3*b.objCurrentSlide.width()/8);if(Math.abs(c)>=d)return!0;{var e=Math.abs(u.lastMouseX-u.startMouseX);Math.abs(u.lastMouseY-u.startMouseY)}if(20>e)return!1;var f=jQuery.now(),g=f-u.startTime;return 500>g?!0:!1}function c(a){if(1==r.isInnerInPlace())return!1;if(p.trigger(r.events.BEFORE_RETURN),!a)var a=r.getSlidesReference();var b=t.getElementSize(a.objCurrentSlide),c=-b.left;o.animate({left:c+"px"},{duration:q.slider_transition_return_speed,easing:q.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==u.isDragVideo){var a=t.getElementSize(o),b=a.left,d=b-c,e=u.videoStartX+d;u.videoObject.css("left",e)}},complete:function(){p.trigger(r.events.AFTER_RETURN)}})}function d(a){r.getVideoObject().hide(),r.switchSlideNums(a),r.placeNabourItems()}function e(){var b=r.getSlidesReference(),e=a(b);if(0==e)return!1;var f=e>0?"left":"right",g=!1;switch(f){case"right":if(r.isSlideHasItem(b.objPrevSlide))var h=t.getElementSize(b.objPrevSlide),i=-h.left;else g=!0;break;case"left":if(r.isSlideHasItem(b.objNextSlide))var j=t.getElementSize(b.objNextSlide),i=-j.left;else g=!0}1==g?c(b):o.stop().animate({left:i+"px"},{duration:q.slider_transition_continuedrag_speed,easing:q.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==u.isDragVideo){var a=t.getElementSize(o),b=a.left,c=b-u.startPosx,d=u.videoStartX+c;u.videoObject.css("left",d)}},always:function(){d(f),p.trigger(r.events.AFTER_DRAG_CHANGE)}})}function f(a){var b=u.lastMouseX-u.startMouseX;if(0==b)return!0;var c=0>b?"left":"right",d=r.getObjZoom();if(d){var e=d.isPanEnabled(a,c);if(1==e)return u.isInitDataValid=!1,!0;if(0==u.isInitDataValid)return g(a),!0}var f=u.startPosx+b;if(b>0&&f>0)f/=3;else if(0>b){var h=f+o.width(),i=n.width();i>h&&(f=u.startPosx+b/3)}if(0==u.isDragging&&(u.isDragging=!0,p.trigger(r.events.START_DRAG)),o.css("left",f+"px"),1==u.isDragVideo){var j=f-u.startPosx,k=u.videoStartX+j;u.videoObject.css("left",k)}}function g(a){var b=t.getMousePosition(a);u.startMouseX=b.pageX,u.startMouseY=b.pageY,u.lastMouseX=u.startMouseX,u.lastMouseY=u.startMouseY,u.startTime=jQuery.now();var c=t.getArrTouches(a);u.startArrTouches=t.getArrTouchPositions(c);var d=t.getElementSize(o);u.startPosx=d.left,u.isInitDataValid=!0,u.isDragVideo=!1;var e=r.getVideoObject();if(1==e.isVisible()){u.isDragVideo=!0,u.videoObject=e.getObject();var f=t.getElementSize(u.videoObject);u.videoStartX=f.left}t.storeEventData(a,u.storedEventID)}function h(){u.touch_active=!1}function i(a,b){u.touch_active=!0,g(b)}function j(a){a.preventDefault(),u.isDragging=!1,1==r.isAnimating()&&o.stop(!0,!0);var b=t.getArrTouches(a);return b.length>1?(1==u.touch_active&&h("1"),!0):1==u.touch_active?!0:void i("1",a)}function k(a){if(0==u.touch_active)return!0;if(0==a.buttons)return h("2"),e(),!0;t.updateStoredEventData(a,u.storedEventID),a.preventDefault();var b=t.getMousePosition(a);u.lastMouseX=b.pageX,u.lastMouseY=b.pageY;var c=null;1==q.slider_vertical_scroll_ondrag&&(c=t.handleScrollTop(u.storedEventID)),"vert"!==c&&f(a)}function l(a){var d=t.getArrTouches(a),f=d.length,g=r.isInnerInPlace();if(1==g&&0==u.touch_active&&0==f)return!0;if(0==f&&1==u.touch_active){1==g&&jQuery(s).trigger(s.events.CLICK),h("3");var j=!1,k=t.wasVerticalScroll(u.storedEventID);0==k&&(j=b()),1==j?e():c()}else 1==f&&0==u.touch_active&&i("2",a)}function m(){n.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",k),jQuery(window).add("body").bind("mouseup touchend",l)}var n,o,p,q,r=new UGSlider,s=this,t=new UGFunctions;this.events={CLICK:"click"};var q={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},u={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(b){var c=t.getArrTouches(b),d=c.length;if(0!=d||0!=u.lastNumTouches)return u.lastNumTouches=d,!1;u.lastNumTouches=d;var e=r.getSlidesReference(),f=(a(e),Math.abs(u.lastMouseX-u.startMouseX)),g=Math.abs(u.lastMouseY-u.startMouseY),h=jQuery.now(),i=h-u.startTime;return 20>f&&50>g&&500>i?!0:!1},this.init=function(a,b){r=a,p=jQuery(r),g_objects=a.getObjects(),n=g_objects.g_objSlider,o=g_objects.g_objInner,q=jQuery.extend(q,b),m()},this.getLastMousePos=function(){var a={pageX:u.lastMouseX,pageY:u.lastMouseY};return a},this.isTouchActive=function(){return u.touch_active}}function UGTouchThumbsControl(){function a(){var a=jQuery.now(),b={};return b.passedTime=y.lastTime-y.startTime,b.lastActiveTime=a-y.buttonReleaseTime,b.passedDistance=y.lastPos-y.startPos,b.passedDistanceAbs=Math.abs(b.passedDistance),b}function b(){x.thumb_touch_slowFactor=w.normalizeSetting(5e-5,.01,1,100,u.strip_thumb_touch_sensetivity,!0)}function c(a){return 0==v?w.getMousePosition(a).pageX:w.getMousePosition(a).pageY}function d(a){var b=y.mousePos-a,c=y.innerPos-b,d=o.getInnerStripLimits();if(c>d.maxPos){var e=c-d.maxPos;c=d.maxPos+e/3}if(c<d.minPos){var e=d.minPos-c;c=d.minPos-e/3}o.positionInnerStrip(c)}function e(a){var b=o.getInnerStripPos();y.mousePos=a,y.innerPos=b,y.lastPortionPos=b,y.lastDeltaTime=0,y.lastDeltaPos=0,y.startTime=jQuery.now(),y.startPos=y.innerPos,y.lastTime=y.startTime,y.lastPos=y.startPos,y.speed=0}function f(){var a=jQuery.now(),b=a-y.lastTime;b>=x.touch_portion_time&&(y.lastDeltaTime=a-y.lastTime,y.lastDeltaTime>x.touch_portion_time&&(y.lastDeltaTime=x.touch_portion_time),y.lastDeltaPos=y.lastPos-y.lastPortionPos,y.lastPortionPos=y.lastPos,y.lastTime=a)}function g(){var a=x.thumb_touch_slowFactor,b=x.minDeltaTime,c=x.minPath,d=o.getInnerStripPos(),e=jQuery.now(),f=e-y.lastTime,g=d-y.lastPortionPos;b>f&&y.lastDeltaTime>0&&(f=y.lastDeltaTime,g=y.lastDeltaPos+g),b>f&&(f=b);var i=g>0?1:-1,j=0;f>0&&(j=g/f);var k=j*j/(2*a)*i;Math.abs(k)<=c&&(k=0);var l=o.getInnerStripPos(),m=l+k,n=o.fixInnerStripLimits(m),p=o.getInnerStripLimits(),q=x.limitsBreakAddition,r=!1,s=n;if(m>p.maxPos&&(r=!0,n=q,q>m&&(n=m)),m<p.minPos){r=!0;var u=p.minPos-q;n=u,m>u&&(n=m)}var w=n-l,z=Math.abs(Math.round(j/a));if(0!=k&&(z=z*w/k),l!=n){var A={left:n+"px"};1==v&&(A={top:n+"px"}),t.animate(A,{duration:z,easing:x.animationEasing,queue:!0,progress:h})}if(1==r){var B=x.returnAnimateSpeed,C={left:s+"px"};1==v&&(C={top:s+"px"}),t.animate(C,{duration:B,easing:x.returnAnimationEasing,queue:!0,progress:h})}}function h(){y.lastPos=o.getInnerStripPos(),o.triggerStripMoveEvent()}function i(){return 1==y.loop_active?!0:(y.loop_active=!0,void(y.handle=setInterval(f,10)))}function j(a){if(0==y.loop_active)return!0;if(a){var b=c(a);g(b)}y.loop_active=!1,y.handle=clearInterval(y.handle)}function k(a){return 0==y.isControlEnabled?!0:(y.buttonReleaseTime=jQuery.now(),0==y.touch_active?(j(a),!0):(a.preventDefault(),y.touch_active=!1,j(a),void s.removeClass("ug-dragging")))}function l(a){if(0==y.isControlEnabled)return!0;a.preventDefault(),y.touch_active=!0;var b=c(a);t.stop(!0),e(b),i(),s.addClass("ug-dragging")}function m(a){if(0==y.isControlEnabled)return!0;if(0==y.touch_active)return!0;if(a.preventDefault(),0==a.buttons)return y.touch_active=!1,j(a),!0;var b=c(a);y.lastPos=o.getInnerStripPos(),d(b),f()}function n(){s.bind("mousedown touchstart",l),jQuery(window).add("body").bind("mouseup touchend",k),jQuery("body").bind("mousemove touchmove",m)}var o,p,q,r,s,t,u,v,w=new UGFunctions,x={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},y={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){y.isControlEnabled=!0},this.disable=function(){y.isControlEnabled=!1},this.init=function(a){o=a,r=a.getObjects(),p=r.g_gallery,q=r.g_objGallery,s=r.g_objStrip,t=r.g_objStripInner,u=r.g_options,v=r.isVertical,b(),n()},this.isSignificantPassed=function(){var b=a();return b.passedTime>300?!0:b.passedDistanceAbs>30?!0:!1},this.isTouchActive=function(){if(1==y.touch_active)return!0;if(1==t.is(":animated"))return!0;var b=a();return b.lastActiveTime<50?!0:!1},this.destroy=function(){s.unbind("mousedown"),s.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGWistiaAPI(){function a(){return"undefined"!=typeof Wistia}function b(a,b,d,f,g){e=null,h=!1;var i=a+"_video",j="<div id='"+i+"' class='wistia_embed' style='width:"+d+";height:"+f+";' data-video-width='"+d+"' data-video-height='"+f+"'>&nbsp;</div>";jQuery("#"+a).html(j),e=Wistia.embed(b,{version:"v1",videoWidth:d,videoHeight:f,container:i,autoPlay:g}),h=!0,c()}function c(){e.bind("play",function(){g.trigger(f.events.START_PLAYING)}),e.bind("pause",function(){g.trigger(f.events.STOP_PLAYING)}),e.bind("end",function(){g.trigger(f.events.STOP_PLAYING)})}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this),h=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded?!0:a()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0))},this.doCommand=function(a){if(null==e)return!1;if(0==h)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.isPlayerReady=function(){return h&&e?!0:!1}}function UGSoundCloudAPI(){function a(){return"undefined"!=typeof SC}function b(a,b,d,g,h){e=null,g_isPlayerReady=!1;var i=a+"_iframe",j=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+b;j+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",j+=h===!0?"&amp;auto_play=true":"&amp;auto_play=false";var k="<iframe id='"+i+"' src="+j+" width='"+d+"' height='"+g+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k),e=SC.Widget(i),e.bind(SC.Widget.Events.READY,function(){e&&(g_isPlayerReady=!0,c())}),f=a}function c(){e.bind(SC.Widget.Events.PLAY,function(){h.trigger(g.events.START_PLAYING)}),e.bind(SC.Widget.Events.PAUSE,function(){h.trigger(g.events.STOP_PLAYING)}),e.bind(SC.Widget.Events.FINISH,function(){h.trigger(g.events.STOP_PLAYING)})}this.isAPILoaded=!1;var d,e,f,g=this,h=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded?!0:a()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0))},this.putSound=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.doCommand=function(a){if(null==e)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){g.doCommand("pause")},this.play=function(){g.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,e=null,f&&(jQuery("#"+f).html(""),f=null)}}function UGIframeAPI(){function a(a,c,d,e){var f=a+"_iframe",g=c,h="<iframe id='"+f+"' src="+g+" width='"+d+"' height='"+e+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(h),b=a}var b;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.putIframe=function(b,c,d,e,f){return a(b,c,d,e,f),!0},this.destroy=function(){b&&(jQuery("#"+b).html(""),b=null)}}function UGHtml5MediaAPI(){function a(){return"undefined"!=typeof mejs}function b(a,b,d,f,g){e=null,g_isPlayerReady=!1;var h=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/flashmediaelement-cdn.swf",i=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/silverlightmediaelement.xap",j=a+"_video",k="";g&&g===!0&&(k="autoplay='autoplay'");var l="";b.posterImage&&(l="poster='"+b.posterImage+"'");var m="<video id='"+j+"' width='"+d+"' height='"+f+"'  controls='controls' preload='none' "+k+" "+l+">";""!=b.mp4&&(m+="<source type='video/mp4' src='"+b.mp4+"' />"),""!=b.webm&&(m+="<source type='video/webm' src='"+b.webm+"' />"),""!=b.ogv&&(m+="<source type='video/ogg' src='"+b.ogv+"' />"),m+="<object width='"+d+"' height='"+f+"' type='application/x-shockwave-flash' data='"+h+"'>",m+="<param name='movie' value='"+h+"' />",m+="<param name='flashvars' value='controls=true&file="+b.mp4+"' />",m+="</object>",m+="</video>",jQuery("#"+a).html(m),new MediaElement(j,{enablePluginDebug:!1,flashName:h,silverlightName:i,success:function(a){g_isPlayerReady=!0,e=a,0==g&&e.pause(),c()},error:function(a){trace(a)}})}function c(){g_ugFunctions.addEvent(e,"play",function(){g.trigger(f.events.START_PLAYING)}),g_ugFunctions.addEvent(e,"pause",function(){g.trigger(f.events.STOP_PLAYING)}),g_ugFunctions.addEvent(e,"ended",function(){g.trigger(f.events.STOP_PLAYING)})}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded?!0:a()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/js/mediaelement.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.13.2/css/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0))},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.doCommand=function(a){if(null==e)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":e.play();break;case"pause":e.pause()}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")}}function UGVimeoAPI(){function a(){return"undefined"!=typeof Froogaloop}function b(a,b,d,f,g){h=null,i=!1;var j=location.protocol+"//player.vimeo.com/video/"+b+"?api=1";g===!0&&(j+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var k="<iframe src="+j+" width='"+d+"' height='"+f+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k);var l=jQuery("#"+a+" iframe")[0];h=Froogaloop(l),h.addEvent("ready",function(){h&&(i=!0,c())}),e=a}function c(){return h?(h.addEvent("cuechange",function(){1==j&&f.play()}),h.addEvent("play",function(){g.trigger(f.events.START_PLAYING)}),h.addEvent("pause",function(){g.trigger(f.events.STOP_PLAYING)}),void h.addEvent("finish",function(){g.trigger(f.events.STOP_PLAYING)})):!1}this.isAPILoaded=!1;var d,e,f=this,g=jQuery(this),h=null,i=!1,j=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded?!0:a()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0))},this.doCommand=function(a){if(null==h)return!1;if(0==i)return!1;switch(a){default:h.api(a)}},this.pause=function(){f.doCommand("pause")},this.play=function(){f.doCommand("play")},this.destroy=function(){h&&(h.api("unload"),h=null,i=!1),e&&jQuery("#"+e).html("")},this.putVideo=function(c,e,f,g,h){return a()?(b(c,e,f,g,h),!0):(this.loadAPI(),void(d=setInterval(function(){a()&&(b(c,e,f,g,h),clearInterval(d))},500)))},this.isPlayerReady=function(){return i&&h?!0:!1},this.changeVideo=function(a,b){return 0==f.isPlayerReady()?!1:(j=b,void h.api("loadVideo",a))},this.getVideoImages=function(a,b,c){var d=location.protocol+"//vimeo.com/api/v2/video/"+a+".json";jQuery.get(d,{},function(a){var d={};d.preview=a[0].thumbnail_large,d.thumb=a[0].thumbnail_medium,c(b,d)})}}function UGYoutubeAPI(){function a(a,b,e,g,j){h&&i&&h.destroy();var k={controls:2,showinfo:l.video_youtube_showinfo,rel:0};j===!0&&(k.autoplay=1),i=!1,h=new YT.Player(a,{height:g,width:e,videoId:b,playerVars:k,events:{onReady:c,onStateChange:d}}),f=a}function b(){return"undefined"!=typeof YT&&"undefined"!=typeof YT.Player?!0:!1}function c(){i=!0}function d(){if("function"!=typeof h.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var a=h.getPlayerState();switch(a){case YT.PlayerState.PLAYING:j.trigger(g.events.START_PLAYING);break;default:k==YT.PlayerState.PLAYING&&j.trigger(g.events.STOP_PLAYING)}k=a}this.isAPILoaded=!1;var e,f,g=this,h=null,i=!1,j=jQuery(this),k=-1,l={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.setOptions=function(a){l=jQuery.extend(l,a)},this.putVideo=function(c,d,f,g,h){return b()?(a(c,d,f,g,h),!0):(this.loadAPI(),void(e=setInterval(function(){b()&&(a(c,d,f,g,h),clearInterval(e))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded?!0:"undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("www.youtube.com/player_api",!0),void(g_ugYoutubeAPI.isAPILoaded=!0))},this.doCommand=function(a,b){if(!h)return!0;if(0==i)return!1;switch(a){case"play":if("function"!=typeof h.playVideo)return!1;h.playVideo();break;case"pause":if("function"!=typeof h.pauseVideo)return!1;h.pauseVideo();break;case"seek":if("function"!=typeof h.seekTo)return!1;h.seekTo(b);break;case"stopToBeginning":var c=h.getPlayerState();switch(h.pauseVideo(),c){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:h.seekTo(0)}}},this.play=function(){g.doCommand("play")},this.pause=function(){g.doCommand("pause")},this.destroy=function(){h&&(i=!1,h.destroy())},this.stopToBeginning=function(){g.doCommand("stopToBeginning")},this.changeVideo=function(a,b){return 0==g.isPlayerReady()?!1:void(b&&1==b?h.loadVideoById(a,0,"default"):h.cueVideoById(a,0,"default"))},this.isPlayerReady=function(){return i&&h?!0:!1},this.getVideoImages=function(a){var b={};return b.preview="https://i.ytimg.com/vi/"+a+"/sddefault.jpg",b.thumb="https://i.ytimg.com/vi/"+a+"/default.jpg",b}}function UGVideoPlayer(){function a(){o.hide()}function b(){p.trigger(o.events.PLAY_START),k&&k.hide()}function c(){p.trigger(o.events.PLAY_STOP),k&&k.show()}function d(){k&&(q.setButtonMobileReady(k),q.setButtonOnClick(k,a)),jQuery(r).on(r.events.START_PLAYING,b),jQuery(r).on(r.events.STOP_PLAYING,c),jQuery(s).on(s.events.START_PLAYING,b),jQuery(s).on(s.events.STOP_PLAYING,c),jQuery(t).on(t.events.START_PLAYING,b),jQuery(t).on(t.events.STOP_PLAYING,c),jQuery(u).on(u.events.START_PLAYING,b),jQuery(u).on(u.events.STOP_PLAYING,c),jQuery(v).on(v.events.START_PLAYING,b),jQuery(v).on(v.events.STOP_PLAYING,c),jQuery(w).on(w.events.START_PLAYING,b),jQuery(w).on(w.events.STOP_PLAYING,c)}function e(a){var b=["youtube","vimeo","html5","soundcloud","wistia","iframe"];for(var c in b){var d=b[c];if(d!=a)switch(d){case"youtube":r.pause(),h.hide();break;case"vimeo":s.pause(),s.destroy(),i.hide();break;case"html5":t.pause(),j.hide();break;case"soundcloud":u.pause(),u.destroy(),l.hide();break;case"wistia":v.pause(),m.hide();break;case"iframe":w.destroy(),n.hide()}}}var f,g,h,i,j,k,l,m,n,o=this,p=jQuery(this),q=new UGFunctions,r=new UGYoutubeAPI,s=new UGVimeoAPI,t=new UGHtml5MediaAPI,u=new UGSoundCloudAPI,v=new UGWistiaAPI,w=new UGIframeAPI,x={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop"};var y={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:"",iFrameInnerID:""};this.init=function(a,b,c){if(f=c,!f)throw new Error("missing gallery ID for video player, it's a must!");x=jQuery.extend(x,a),r.setOptions(x),b&&1==b&&(y.standAloneMode=!0)},this.setHtml=function(a){y.youtubeInnerID=f+"_youtube_inner",y.vimeoPlayerID=f+"_videoplayer_vimeo",y.html5PlayerID=f+"_videoplayer_html5",y.wistiaPlayerID=f+"_videoplayer_wistia",y.soundCloudPlayerID=f+"_videoplayer_soundcloud",y.iFrameInnerID=f+"_iframe_inner";var b="<div class='ug-videoplayer' style='display:none'>";b+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+y.youtubeInnerID+"'></div></div>",b+="<div id='"+y.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",b+="<div id='"+y.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",b+="<div id='"+y.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",b+="<div id='"+y.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",b+="<div id='"+y.iFrameInnerID+"' class='ug-videoplayer-wrapper ug-videoplayer-iframe' style='background:#fff;'></div>",0==y.standAloneMode&&1==x.video_enable_closebutton&&(b+="<div class='ug-videoplayer-button-close'></div>"),b+="</div>",a.append(b),g=a.children(".ug-videoplayer"),h=g.children(".ug-videoplayer-youtube"),i=g.children(".ug-videoplayer-vimeo"),j=g.children(".ug-videoplayer-html5"),l=g.children(".ug-videoplayer-soundcloud"),m=g.children(".ug-videoplayer-wistia"),n=g.children(".ug-videoplayer-iframe"),0==y.standAloneMode&&1==x.video_enable_closebutton&&(k=g.children(".ug-videoplayer-button-close"))},this.destroy=function(){k&&(k.off("click"),k.off("touchend")),jQuery(r).off(r.events.START_PLAYING),jQuery(r).off(r.events.STOP_PLAYING),jQuery(s).off(s.events.START_PLAYING),jQuery(s).off(s.events.STOP_PLAYING),jQuery(t).off(t.events.START_PLAYING),jQuery(t).off(t.events.STOP_PLAYING),jQuery(u).off(u.events.START_PLAYING,b),jQuery(u).off(u.events.STOP_PLAYING,c),jQuery(v).off(v.events.START_PLAYING,b),jQuery(v).off(v.events.STOP_PLAYING,c),jQuery(w).off(w.events.START_PLAYING,b),jQuery(w).off(w.events.STOP_PLAYING,c)},this.initEvents=function(){d()},this.setSize=function(a,b){q.setElementSize(g,a,b),k&&q.placeElement(k,"right","top")},this.setPosition=function(a,b){q.placeElement(g,a,b)},this.getObject=function(){return g},this.show=function(){return 1==o.isVisible()?!0:(g.show(),k&&k.show(),void p.trigger(o.events.SHOW))},this.hide=function(){return 0==o.isVisible()?!0:(e(),g.hide(),void p.trigger(o.events.HIDE))},this.isVisible=function(){return g.is(":visible")},this.playYoutube=function(a,b){if("undefined"==typeof b)var b=!0;e("youtube"),h.show();var c=h.children("#"+y.youtubeInnerID);0==c.length&&h.append("<div id='"+y.youtubeInnerID+"'></div>"),1==r.isPlayerReady()&&1==y.standAloneMode?r.changeVideo(a,b):r.putVideo(y.youtubeInnerID,a,"100%","100%",b)},this.playVimeo=function(a,b){if("undefined"==typeof b)var b=!0;e("vimeo"),i.show(),s.isPlayerReady()&&1==y.standAloneMode?s.changeVideo(a,b):s.putVideo(y.vimeoPlayerID,a,"100%","100%",b)},this.playHtml5Video=function(a,b,c,d,f){if("undefined"==typeof f)var f=!0;e("html5"),j.show();var g={ogv:a,webm:b,mp4:c,posterImage:d};t.putVideo(y.html5PlayerID,g,"100%","100%",f)},this.playSoundCloud=function(a,b){if("undefined"==typeof b)var b=!0;e("soundcloud"),l.show(),u.putSound(y.soundCloudPlayerID,a,"100%","100%",b)},this.playWistia=function(a,b){if("undefined"==typeof b)var b=!0;e("wistia"),m.show(),v.putVideo(y.wistiaPlayerID,a,"100%","100%",b)},this.playIframe=function(a,b){if("undefined"==typeof b)var b=!0;e("iframe"),n.show(),w.putIframe(y.iFrameInnerID,a,"100%","100%",b)}}function UGZoomSliderControl(){function a(a,b){x=a,w=jQuery(x),g_objects=a.getObjects(),u=g_objects.g_objSlider,v=g_objects.g_objInner,z=jQuery.extend(z,b),t()}function b(){var a=x.getScaleMode();return"down"!=a&&(a="fit"),a}function c(){var a=jQuery.now(),c=a-A.storeImageLastTime;if(20>c)return!1;var d=x.getSlidesReference();if(A.objSlide=d.objCurrentSlide,A.objImage=d.objCurrentSlide.find("img"),0==A.objImage.length)return!1;A.objImageSize=y.getElementSize(A.objImage),A.objParent=A.objImage.parent(),A.objParentSize=y.getElementSize(A.objParent);var e=b();objPadding=x.getObjImagePadding(),A.objFitImageSize=y.getImageInsideParentDataByImage(A.objImage,e,objPadding);var a=jQuery.now();return A.storeImageLastTime=a,!0}function d(a,c){var d=x.getSlidesReference(),e=d.objCurrentSlide.find("img"),f=b();w.trigger(x.events.ZOOM_START);var g=!0,h=x.getObjImagePadding();if("back"==a){var i=y.getImageOriginalSize(e);y.scaleImageFitParent(e,i.width,i.height,f,h)}else{var j="in"==a?!0:!1;g=y.zoomImageInsideParent(e,j,z.slider_zoom_step,c,f,z.slider_zoom_max_ratio,h)}1==g&&(w.trigger(x.events.ZOOMING),w.trigger(x.events.ZOOM_CHANGE),w.trigger(x.events.ZOOM_END))}function e(a,b,c){var d=y.getArrTouches(b);if(c===!0){if(1!=d.length)return!1}else if(d.length>1)return!1;return y.isElementBiggerThenParent(a)?!0:!1}function f(a){var b=y.getMousePosition(a);A.startMouseX=b.pageX,A.startMouseY=b.pageY,A.lastMouseX=A.startMouseX,A.lastMouseY=A.startMouseY,A.startImageX=A.objImageSize.left,A.startImageY=A.objImageSize.top,A.panXActive=A.objImageSize.width>A.objParentSize.width,A.panYActive=A.objImageSize.height>A.objParentSize.height}function g(a){A.isPanActive=!0,f(a)}function h(a){if(void 0==A.objImage||0==A.objImage.length)return!0;var b=y.getMousePosition(a),c=(b.pageX-A.startMouseX,b.pageY-A.startMouseY,b.pageX-A.lastMouseX),d=b.pageY-A.lastMouseY,e=0>c?"left":"right",f=0>d?"up":"down";A.lastMouseX=b.pageX,A.lastMouseY=b.pageY;var g=y.getElementSize(A.objImage);0==A.panYActive?d=0:"down"==f&&g.top>0?d/=3:"up"==f&&g.bottom<A.objParentSize.height&&(d/=3),0==A.panXActive||0==x.isInnerInPlace()?c=0:"right"==e&&g.left>0?c/=3:"left"==e&&g.right<A.objParentSize.width&&(c/=3);var h=g.left+c,i=g.top+d;y.placeElement(A.objImage,h,i)}function i(){var a=!1,b=!1,c=0,d=0,e=y.getElementSize(A.objImage),f=x.getObjImagePadding(),g=y.getElementCenterPosition(A.objImage,f);A.panXActive=A.objImageSize.width>A.objParentSize.width,A.panYActive=A.objImageSize.height>A.objParentSize.height,1==A.panYActive?e.top>0?(d=0,b=!0):e.bottom<A.objParentSize.height&&(d=A.objParentSize.height-e.height,b=!0):e.top!=g.top&&(b=!0,d=g.top),1==A.panXActive?e.left>0?(c=0,a=!0):e.right<A.objParentSize.width&&(c=A.objParentSize.width-e.width,a=!0):e.left!=g.left&&(a=!0,c=g.left);var h={};1==b&&(h.top=d+"px"),1==a&&(h.left=c+"px"),(1==b||1==a)&&A.objImage.animate(h,{duration:z.slider_zoom_return_pan_duration,easing:z.slider_zoom_return_pan_easing,queue:!1})}function j(){return A.objImage&&A.objImage.is(":animated")?!0:!1}function k(a){A.isZoomActive=!0,A.startDistance=y.getDistance(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),0==A.startDistance&&(A.startDistance=1),A.startMiddlePoint=y.getMiddlePoint(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),A.objImageSize=y.getElementSize(A.objImage),A.startImageX=A.objImageSize.left,A.startImageY=A.objImageSize.top,A.imageOrientPoint=y.getElementLocalPoint(A.startMiddlePoint,A.objImage);var b=y.isPointInsideElement(A.imageOrientPoint,A.objImageSize);0==b&&(A.imageOrientPoint=y.getElementCenterPoint(A.objImage)),w.trigger(x.events.ZOOM_START)}function l(a){if(0==A.isZoomActive)return!1;var b=y.getArrTouches(a);2!=b.length&&(A.isZoomActive=!1,w.trigger(x.events.ZOOM_END))}function m(a){if(1==A.isZoomActive)return!0;var b=y.getArrTouches(a);return 2!=b.length?!0:void k(b)}function n(a){var b=y.getArrTouches(a),c=y.getDistance(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),d=c/A.startDistance,e=y.getMiddlePoint(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),f=A.objImageSize.width*d,g=A.objImageSize.height*d,h=y.getImageOriginalSize(A.objImage),i=1;
if(h.width>0&&(i=f/h.width),i>z.slider_zoom_max_ratio)return!0;panX=-(A.imageOrientPoint.x*d-A.imageOrientPoint.x),panY=-(A.imageOrientPoint.y*d-A.imageOrientPoint.y);var j=e.x-A.startMiddlePoint.x,k=e.y-A.startMiddlePoint.y,l=A.startImageX+panX+j,m=A.startImageY+panY+k;y.setElementSizeAndPosition(A.objImage,l,m,f,g),w.trigger(x.events.ZOOMING),w.trigger(x.events.ZOOM_CHANGE)}function o(){if(void 0==A.objImage||0==A.objImage.length)return!0;var a=y.getElementSize(A.objImage);if(a.width<A.objFitImageSize.imageWidth){A.objImage.css({position:"absolute",margin:"none"});var b={top:A.objFitImageSize.imageTop+"px",left:A.objFitImageSize.imageLeft+"px",width:A.objFitImageSize.imageWidth+"px",height:A.objFitImageSize.imageHeight+"px"};A.objImage.animate(b,{duration:z.slider_zoom_return_pan_duration,easing:z.slider_zoom_return_pan_easing,queue:!1})}else i()}function p(a){if(0==x.isCurrentSlideType("image"))return!0;c();return void 0==A.objImage||0==A.objImage.length?!0:(a.preventDefault(),1==j()&&A.objImage.stop(!0),1==A.isZoomActive?l(a):m(a),void(1==A.isZoomActive?A.isPanActive=!1:1==e(A.objImage,a)&&1==A.isZoomedOnce&&g(a)))}function q(a){if(0==x.isCurrentSlideType("image"))return!0;var b=jQuery(a.target);if(1==b.data("ug-button"))return!1;c();if(void 0==A.objImage||0==A.objImage.length)return!0;var d=A.isPanActive,f=A.isZoomActive;if(0==x.isInnerInPlace())return A.isZoomActive=!1,A.isPanActive=!1,!0;if(1==A.isZoomActive?l(a):m(a),1==A.isZoomActive)0==A.isPanActive;else{var h=e(A.objImage,a,!0);1==A.isPanActive?A.isPanActive=!1:1==h&&g(a)}(d||f)&&0==A.isZoomActive&&0==A.isPanActive&&o()}function r(a){return 0==x.isCurrentSlideType("image")?!0:void(1==A.isZoomActive?n(a):1==A.isPanActive&&h(a))}function s(a,b){if(0==z.slider_zoom_mousewheel)return!0;if(0==x.isCurrentSlideType("image"))return!0;a.preventDefault();var c=b>0,e=y.getMousePosition(a),f=1==c?"in":"out";d(f,e)}function t(){u.on("mousewheel",s),u.bind("mousedown touchstart",p),jQuery("body").bind("mousemove touchmove",r),jQuery(window).add("body").bind("mouseup touchend",q),w.bind(x.events.BEFORE_RETURN,function(){o()}),w.bind(x.events.ITEM_CHANGED,function(){A.isZoomedOnce=!1}),w.bind(x.events.ZOOM_CHANGE,function(){A.isZoomedOnce=!0})}var u,v,w,x=new UGSlider,y=new UGFunctions,z={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},A={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(a,b){if(c(),void 0==A.objImage||0==A.objImage.length)return!1;if(0==A.isZoomedOnce)return!1;if(0==e(A.objImage,a))return!1;if(0==x.isInnerInPlace())return!1;if("left"==b){if(A.objImageSize.right<=A.objParentSize.width)return!1}else if(A.objImageSize.left>=0)return!1;return!0},this.init=function(b,c){a(b,c)},this.zoomIn=function(){d("in")},this.zoomOut=function(){d("out")},this.zoomBack=function(){d("back")}}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),!function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(a){function b(){var c=this===document?a(this):a(this).contents();c.mousemove(function(b){a.mlp={x:b.pageX,y:b.pageY}}),c.find("iframe").load(b)}a.mlp={x:0,y:0},a(b),a.fn.ismouseover=function(){var b=!1;return this.eq(0).each(function(){var c=a(this).is("iframe")?a(this).contents().find("body"):a(this),d=c.offset();b=d.left<=a.mlp.x&&d.left+c.outerWidth()>a.mlp.x&&d.top<=a.mlp.y&&d.top+c.outerHeight()>a.mlp.y}),b}}(jQuery);var g_ugFunctions=new UGFunctions;jQuery.fn.unitegallery=function(a){var b=jQuery(this),c="#"+b.attr("id");if(!a)var a={};var d=new UniteGalleryMain;d.run(c,a);var e=new UG_API(d);return e};var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI,g_ugIframeAPI=new UGIframeAPI;